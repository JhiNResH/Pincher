{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/jhinresh/Desktop/pincher/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error(\"Missing Supabase environment variables\");\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,oNAAY,EAAC,aAAa"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/jhinresh/Desktop/pincher/components/RideList.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabase';\n\ninterface Ride {\n  id: number;\n  created_at: string;\n  user_address: string;\n  pickup_location: string;\n  dropoff_location: string;\n  departure_time: string;\n  wechat_id: string;\n  status: string;\n}\n\nexport default function RideList() {\n  const [rides, setRides] = useState<Ride[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchRides();\n  }, []);\n\n  async function fetchRides() {\n    try {\n      const { data, error } = await supabase\n        .from('rides')\n        .select('*')\n        .order('departure_time', { ascending: true });\n\n      if (error) {\n        console.error('Supabase error details:', {\n          message: error.message,\n          details: error.details,\n          hint: error.hint,\n          code: error.code,\n        });\n        throw error;\n      }\n      setRides(data || []);\n    } catch (error: any) {\n      console.error('Error fetching rides:', error?.message || error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  if (loading) return <p>Loading rides...</p>;\n\n  return (\n    <div className=\"space-y-4\">\n      <h2 className=\"text-2xl font-bold\">Available Rides</h2>\n      {rides.length === 0 ? (\n        <p className=\"text-gray-500\">No rides available</p>\n      ) : (\n        <div className=\"grid gap-4\">\n          {rides.map((ride) => (\n            <div\n              key={ride.id}\n              className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\"\n            >\n              <div className=\"flex justify-between items-start\">\n                <div>\n                  <p className=\"font-semibold\">\n                    {ride.pickup_location} â†’ {ride.dropoff_location}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    {new Date(ride.departure_time).toLocaleString()}\n                  </p>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    WeChat: {ride.wechat_id || 'N/A'}\n                  </p>\n                </div>\n                <div className=\"text-right\">\n                  <span className={`px-2 py-1 text-xs rounded ${\n                    ride.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {ride.status}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,uOAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uOAAQ,EAAC;IAEvC,IAAA,wOAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,kBAAkB;gBAAE,WAAW;YAAK;YAE7C,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,2BAA2B;oBACvC,SAAS,MAAM,OAAO;oBACtB,SAAS,MAAM,OAAO;oBACtB,MAAM,MAAM,IAAI;oBAChB,MAAM,MAAM,IAAI;gBAClB;gBACA,MAAM;YACR;YACA,SAAS,QAAQ,EAAE;QACrB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,yBAAyB,OAAO,WAAW;QAC3D,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS,qBAAO,oQAAC;kBAAE;;;;;;IAEvB,qBACE,oQAAC;QAAI,WAAU;;0BACb,oQAAC;gBAAG,WAAU;0BAAqB;;;;;;YAClC,MAAM,MAAM,KAAK,kBAChB,oQAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B,oQAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,oQAAC;wBAEC,WAAU;kCAEV,cAAA,oQAAC;4BAAI,WAAU;;8CACb,oQAAC;;sDACC,oQAAC;4CAAE,WAAU;;gDACV,KAAK,eAAe;gDAAC;gDAAI,KAAK,gBAAgB;;;;;;;sDAEjD,oQAAC;4CAAE,WAAU;sDACV,IAAI,KAAK,KAAK,cAAc,EAAE,cAAc;;;;;;sDAE/C,oQAAC;4CAAE,WAAU;;gDAA6B;gDAC/B,KAAK,SAAS,IAAI;;;;;;;;;;;;;8CAG/B,oQAAC;oCAAI,WAAU;8CACb,cAAA,oQAAC;wCAAK,WAAW,CAAC,0BAA0B,EAC1C,KAAK,MAAM,KAAK,WAAW,gCAAgC,6BAC3D;kDACC,KAAK,MAAM;;;;;;;;;;;;;;;;;uBAnBb,KAAK,EAAE;;;;;;;;;;;;;;;;AA6B1B"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/jhinresh/Desktop/pincher/components/CreateRide.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { usePrivy } from '@privy-io/react-auth';\nimport { supabase } from '@/lib/supabase';\n\nexport default function CreateRide() {\n  const { user } = usePrivy();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    pickup_location: '',\n    dropoff_location: '',\n    departure_time: '',\n    wechat_id: '',\n    status: 'active',\n  });\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    if (!user) {\n      alert('Please log in to create a ride');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('rides')\n        .insert({\n          user_address: user.wallet?.address || user.email?.address || 'unknown',\n          ...formData,\n        })\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Supabase insert error:', {\n          message: error.message,\n          details: error.details,\n          hint: error.hint,\n          code: error.code,\n        });\n        alert(`Failed to create ride: ${error.message}`);\n        throw error;\n      }\n\n      alert('Ride created successfully!');\n      // Reset form\n      setFormData({\n        pickup_location: '',\n        dropoff_location: '',\n        departure_time: '',\n        wechat_id: '',\n        status: 'active',\n      });\n    } catch (error: any) {\n      console.error('Error creating ride:', error?.message || error);\n      if (!error.message?.includes('Failed to create ride')) {\n        alert('Failed to create ride. Check console for details.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"max-w-md mx-auto p-6 bg-white rounded-lg shadow\">\n      <h2 className=\"text-2xl font-bold mb-4\">Create a Ride</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Pickup Location</label>\n          <input\n            type=\"text\"\n            required\n            value={formData.pickup_location}\n            onChange={(e) => setFormData({ ...formData, pickup_location: e.target.value })}\n            className=\"w-full px-3 py-2 border rounded-lg\"\n            placeholder=\"LAX Airport\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Drop-off Location</label>\n          <input\n            type=\"text\"\n            required\n            value={formData.dropoff_location}\n            onChange={(e) => setFormData({ ...formData, dropoff_location: e.target.value })}\n            className=\"w-full px-3 py-2 border rounded-lg\"\n            placeholder=\"Disneyland\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Departure Time</label>\n          <input\n            type=\"datetime-local\"\n            required\n            value={formData.departure_time}\n            onChange={(e) => setFormData({ ...formData, departure_time: e.target.value })}\n            className=\"w-full px-3 py-2 border rounded-lg\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">WeChat ID</label>\n          <input\n            type=\"text\"\n            required\n            value={formData.wechat_id}\n            onChange={(e) => setFormData({ ...formData, wechat_id: e.target.value })}\n            className=\"w-full px-3 py-2 border rounded-lg\"\n            placeholder=\"Your WeChat ID\"\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg disabled:opacity-50 transition-colors\"\n        >\n          {loading ? 'Creating...' : 'Create Ride'}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0PAAQ;IACzB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uOAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uOAAQ,EAAC;QACvC,iBAAiB;QACjB,kBAAkB;QAClB,gBAAgB;QAChB,WAAW;QACX,QAAQ;IACV;IAEA,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM;YACT,MAAM;YACN;QACF;QAEA,WAAW;QACX,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC;gBACN,cAAc,KAAK,MAAM,EAAE,WAAW,KAAK,KAAK,EAAE,WAAW;gBAC7D,GAAG,QAAQ;YACb,GACC,MAAM,GACN,MAAM;YAET,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,0BAA0B;oBACtC,SAAS,MAAM,OAAO;oBACtB,SAAS,MAAM,OAAO;oBACtB,MAAM,MAAM,IAAI;oBAChB,MAAM,MAAM,IAAI;gBAClB;gBACA,MAAM,CAAC,uBAAuB,EAAE,MAAM,OAAO,EAAE;gBAC/C,MAAM;YACR;YAEA,MAAM;YACN,aAAa;YACb,YAAY;gBACV,iBAAiB;gBACjB,kBAAkB;gBAClB,gBAAgB;gBAChB,WAAW;gBACX,QAAQ;YACV;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,wBAAwB,OAAO,WAAW;YACxD,IAAI,CAAC,MAAM,OAAO,EAAE,SAAS,0BAA0B;gBACrD,MAAM;YACR;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,oQAAC;QAAI,WAAU;;0BACb,oQAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,oQAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,oQAAC;;0CACC,oQAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,oQAAC;gCACC,MAAK;gCACL,QAAQ;gCACR,OAAO,SAAS,eAAe;gCAC/B,UAAU,CAAC,IAAM,YAAY;wCAAE,GAAG,QAAQ;wCAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC5E,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIhB,oQAAC;;0CACC,oQAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,oQAAC;gCACC,MAAK;gCACL,QAAQ;gCACR,OAAO,SAAS,gBAAgB;gCAChC,UAAU,CAAC,IAAM,YAAY;wCAAE,GAAG,QAAQ;wCAAE,kBAAkB,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC7E,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIhB,oQAAC;;0CACC,oQAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,oQAAC;gCACC,MAAK;gCACL,QAAQ;gCACR,OAAO,SAAS,cAAc;gCAC9B,UAAU,CAAC,IAAM,YAAY;wCAAE,GAAG,QAAQ;wCAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC3E,WAAU;;;;;;;;;;;;kCAId,oQAAC;;0CACC,oQAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,oQAAC;gCACC,MAAK;gCACL,QAAQ;gCACR,OAAO,SAAS,SAAS;gCACzB,UAAU,CAAC,IAAM,YAAY;wCAAE,GAAG,QAAQ;wCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACtE,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIhB,oQAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;AAKrC"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///Users/jhinresh/Desktop/pincher/app/page.tsx"],"sourcesContent":["'use client';\n\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\nimport Image from \"next/image\";\nimport {usePrivy} from '@privy-io/react-auth';\nimport RideList from '@/components/RideList';\nimport CreateRide from '@/components/CreateRide';\n\nexport default function Home() {\n  const {ready, authenticated, user, login, logout} = usePrivy();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (ready && authenticated) {\n      router.push('/uber');\n    }\n  }, [ready, authenticated, router]);\n\n  return (\n    <div className=\"min-h-screen bg-linear-to-b from-gray-50 to-gray-100 text-gray-900 flex flex-col\">\n      <div className=\"grow\">\n        {/* Hero Section */}\n        <section className=\"max-w-6xl mx-auto px-4 py-20 lg:py-28\">\n          <div className=\"text-center\">\n            <div className=\"flex flex-col items-center justify-center px-4\">\n              <Image\n                src=\"/pincher.png\"\n                alt=\"pincher Logo\"\n                width={400}\n                height={400}\n              />\n              <h1 className=\"text-3xl font-bold text-gray-900 tracking-tight\">\n                Share Rides. Smart Fares.\n              </h1>\n              <p className=\"mt-2 text-gray-500\">\n                The smarter way to travel in California.\n              </p>\n              <Link\n                href=\"/uber\"\n                className=\"mt-4 px-6 py-3 bg-black hover:bg-gray-800 text-white rounded-xl font-semibold transition-colors inline-flex items-center gap-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" />\n                </svg>\n                Try Uber-Style Map View\n              </Link>\n            </div>\n            {/* Privy Login/Logout */}\n            <div className=\"mt-8 mb-8\">\n              {!ready ? (\n                <p className=\"text-gray-500\">Loading...</p>\n              ) : authenticated ? (\n                <div className=\"space-y-4\">\n                  <p className=\"text-green-600 font-mono\">\n                    Logged in as: {user?.email?.address || user?.wallet?.address || 'User'}\n                  </p>\n                  <button\n                    onClick={logout}\n                    className=\"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-mono transition-colors text-white\"\n                  >\n                    Logout\n                  </button>\n                </div>\n              ) : (\n                <button\n                  onClick={login}\n                  className=\"px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-mono transition-colors text-white\"\n                >\n                  Login / Sign Up\n                </button>\n              )}\n            </div>\n\n            {/* Ride Management - Only show when authenticated */}\n            {authenticated && (\n              <div className=\"mt-12 space-y-12\">\n                <CreateRide />\n                <RideList />\n              </div>\n            )}\n          </div>\n        </section>\n      </div>\n      <footer className=\"py-8 text-center text-sm text-gray-500\">\n        By using this site, you agree to be bound by the{\" \"}\n        <a\n          href=\"https://www.coinbase.com/legal/developer-platform/terms-of-service\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"text-blue-500\"\n        >\n          CDP Terms of Service\n        </a>{\" \"}\n        and{\" \"}\n        <a\n          href=\"https://www.coinbase.com/legal/privacy\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"text-blue-500\"\n        >\n          Global Privacy Policy\n        </a>\n        .\n      </footer>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAC,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAC,GAAG,IAAA,0PAAQ;IAC5D,MAAM,SAAS,IAAA,qKAAS;IAExB,IAAA,wOAAS,EAAC;QACR,IAAI,SAAS,eAAe;YAC1B,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAO;QAAe;KAAO;IAEjC,qBACE,oQAAC;QAAI,WAAU;;0BACb,oQAAC;gBAAI,WAAU;0BAEb,cAAA,oQAAC;oBAAQ,WAAU;8BACjB,cAAA,oQAAC;wBAAI,WAAU;;0CACb,oQAAC;gCAAI,WAAU;;kDACb,oQAAC,8JAAK;wCACJ,KAAI;wCACJ,KAAI;wCACJ,OAAO;wCACP,QAAQ;;;;;;kDAEV,oQAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAGhE,oQAAC;wCAAE,WAAU;kDAAqB;;;;;;kDAGlC,oQAAC,6LAAI;wCACH,MAAK;wCACL,WAAU;;0DAEV,oQAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DACjE,cAAA,oQAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;4CACjE;;;;;;;;;;;;;0CAKV,oQAAC;gCAAI,WAAU;0CACZ,CAAC,sBACA,oQAAC;oCAAE,WAAU;8CAAgB;;;;;2CAC3B,8BACF,oQAAC;oCAAI,WAAU;;sDACb,oQAAC;4CAAE,WAAU;;gDAA2B;gDACvB,MAAM,OAAO,WAAW,MAAM,QAAQ,WAAW;;;;;;;sDAElE,oQAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;;;;;;yDAKH,oQAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;4BAOJ,+BACC,oQAAC;gCAAI,WAAU;;kDACb,oQAAC,0JAAU;;;;;kDACX,oQAAC,wJAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMnB,oQAAC;gBAAO,WAAU;;oBAAyC;oBACR;kCACjD,oQAAC;wBACC,MAAK;wBACL,QAAO;wBACP,KAAI;wBACJ,WAAU;kCACX;;;;;;oBAEI;oBAAI;oBACL;kCACJ,oQAAC;wBACC,MAAK;wBACL,QAAO;wBACP,KAAI;wBACJ,WAAU;kCACX;;;;;;oBAEG;;;;;;;;;;;;;AAKZ"}}]
}
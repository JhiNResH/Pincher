{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/jhinresh/Desktop/pincher/proxy.ts"],"sourcesContent":["import { paymentProxy } from \"@x402/next\";\nimport { x402ResourceServer, HTTPFacilitatorClient } from \"@x402/core/server\";\nimport { registerExactEvmScheme } from \"@x402/evm/exact/server\";\nimport { registerExactSvmScheme } from \"@x402/svm/exact/server\";\nimport { createPaywall } from \"@x402/paywall\";\nimport { evmPaywall } from \"@x402/paywall/evm\";\nimport { svmPaywall } from \"@x402/paywall/svm\";\nimport { declareDiscoveryExtension } from \"@x402/extensions/bazaar\";\n\nconst facilitatorUrl = process.env.FACILITATOR_URL || \"https://facilitator.x402.org\";\nexport const evmAddress = (process.env.EVM_ADDRESS || \"0x0000000000000000000000000000000000000000\") as `0x${string}`;\nexport const svmAddress = process.env.SVM_ADDRESS || \"0x0000000000000000000000000000000000000000\";\n\nif (!process.env.FACILITATOR_URL) {\n  console.warn(\"⚠️  FACILITATOR_URL not set, using default:\", facilitatorUrl);\n}\n\nif (!process.env.EVM_ADDRESS || !process.env.SVM_ADDRESS) {\n  console.warn(\"⚠️  EVM_ADDRESS or SVM_ADDRESS not set, using defaults\");\n}\n\n// Create HTTP facilitator client\nconst facilitatorClient = new HTTPFacilitatorClient({ url: facilitatorUrl });\n\n// Create x402 resource server\nexport const server = new x402ResourceServer(facilitatorClient);\n\n// Register schemes\nregisterExactEvmScheme(server);\nregisterExactSvmScheme(server);\n\n// Build paywall\nexport const paywall = createPaywall()\n  .withNetwork(evmPaywall)\n  .withNetwork(svmPaywall)\n  .withConfig({\n    appName: process.env.APP_NAME || \"Next x402 Demo\",\n    appLogo: process.env.APP_LOGO || \"/x402-icon-blue.png\",\n    testnet: true,\n  })\n  .build();\n\n// Build proxy\nexport const proxy = paymentProxy(\n  {\n    \"/protected\": {\n      accepts: [\n        {\n          scheme: \"exact\",\n          price: \"$0.001\",\n          network: \"eip155:84532\", // base-sepolia\n          payTo: evmAddress,\n        },\n        {\n          scheme: \"exact\",\n          price: \"$0.001\",\n          network: \"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\", // solana devnet\n          payTo: svmAddress,\n        },\n      ],\n      description: \"Premium music: x402 Remix\",\n      mimeType: \"text/html\",\n      extensions: {\n        ...declareDiscoveryExtension({}),\n      },\n    },\n  },\n  server,\n  undefined, // paywallConfig (using custom paywall instead)\n  paywall, // custom paywall provider\n);\n\n// Configure which paths the proxy should run on\nexport const config = {\n  matcher: [\"/protected/:path*\"],\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AAEA,MAAM,iBAAiB,QAAQ,GAAG,CAAC,eAAe,IAAI;AAC/C,MAAM,aAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAC/C,MAAM,aAAa,QAAQ,GAAG,CAAC,WAAW,IAAI;AAErD,IAAI,CAAC,QAAQ,GAAG,CAAC,eAAe,EAAE;IAChC,QAAQ,IAAI,CAAC,+CAA+C;AAC9D;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IACxD,QAAQ,IAAI,CAAC;AACf;AAEA,iCAAiC;AACjC,MAAM,oBAAoB,IAAI,kNAAqB,CAAC;IAAE,KAAK;AAAe;AAGnE,MAAM,SAAS,IAAI,6NAAkB,CAAC;AAE7C,mBAAmB;AACnB,IAAA,yNAAsB,EAAC;AACvB,IAAA,yNAAsB,EAAC;AAGhB,MAAM,UAAU,IAAA,gMAAa,IACjC,WAAW,CAAC,oMAAU,EACtB,WAAW,CAAC,oMAAU,EACtB,UAAU,CAAC;IACV,SAAS,QAAQ,GAAG,CAAC,QAAQ,IAAI;IACjC,SAAS,QAAQ,GAAG,CAAC,QAAQ,IAAI;IACjC,SAAS;AACX,GACC,KAAK;AAGD,MAAM,QAAQ,IAAA,4MAAY,EAC/B;IACE,cAAc;QACZ,SAAS;YACP;gBACE,QAAQ;gBACR,OAAO;gBACP,SAAS;gBACT,OAAO;YACT;YACA;gBACE,QAAQ;gBACR,OAAO;gBACP,SAAS;gBACT,OAAO;YACT;SACD;QACD,aAAa;QACb,UAAU;QACV,YAAY;YACV,GAAG,IAAA,4NAAyB,EAAC,CAAC,EAAE;QAClC;IACF;AACF,GACA,QACA,WACA;AAIK,MAAM,SAAS;IACpB,SAAS;QAAC;KAAoB;AAChC"}}]
}
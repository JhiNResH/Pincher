(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,347184,e=>{"use strict";var t=e.i(533841);e.s(["usePrivy",()=>t.u])},689677,e=>{"use strict";var t=e.i(569269);e.s(["useWallets",()=>t.u])},412722,(e,t,s)=>{},938143,(e,t,s)=>{var r=e.i(427217);e.r(412722);var n=e.r(467174),a=n&&"object"==typeof n&&"default"in n?n:{default:n},i=void 0!==r.default&&r.default.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,n=t.optimizeForSpeed,a=void 0===n?i:n;d(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",d("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(d(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];d(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&d(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return s?n.insertBefore(r,s):n.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},u={};function f(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return u[r]||(u[r]="jsx-"+c(e+"-"+s)),u[r]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return u[s]||(u[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[s]}var p=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,n=t.optimizeForSpeed,a=void 0!==n&&n;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,n=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var a=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=a,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var n=f(r,s);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return h(n,e)}):[h(n,t)]}}return{styleId:f(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=n.createContext(null);function x(){return new p}function b(){return n.useContext(m)}m.displayName="StyleSheetContext";var g=a.default.useInsertionEffect||a.default.useLayoutEffect,v="undefined"!=typeof window?x():void 0;function y(e){var t=v||b();return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,r=n.useContext(m),i=n.useState(function(){return r||t||x()})[0];return a.default.createElement(m.Provider,{value:i},s)},s.createStyleRegistry=x,s.style=y,s.useStyleRegistry=b},38807,(e,t,s)=>{t.exports=e.r(938143).style},833504,e=>{"use strict";var t=e.i(531871),s=e.i(467174);function r({show:e,agents:r,totalAmount:n,onComplete:a,isLiveMode:i,userAddress:l,txStatus:o="IDLE",txHash:d}){let[c,u]=(0,s.useState)("IDLE");if((0,s.useEffect)(()=>{e?i?("WAITING"===o&&u("SENDING"),"PENDING"===o&&u("CONFIRMING"),"SUCCESS"===o&&(u("DONE"),setTimeout(a,2e3))):(u("SENDING"),setTimeout(()=>{u("CONFIRMING"),setTimeout(()=>{u("DONE"),setTimeout(()=>{a(),u("IDLE")},1500)},1500)},2e3)):u("IDLE")},[e,i,o,a]),!e&&"IDLE"===c)return null;let f=(n/4).toFixed(4);return(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"relative w-[600px] h-[400px]",children:[(0,t.jsxs)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center z-20",children:[(0,t.jsx)("div",{className:`w-24 h-24 rounded-2xl border-2 flex items-center justify-center text-4xl shadow-[0_0_40px_rgba(59,130,246,0.4)] transition-all duration-500 ${"CONFIRMING"===c||i&&"WAITING"===o?"bg-blue-600 border-blue-400 scale-110":"DONE"===c?"bg-green-600 border-green-400 scale-100":"bg-slate-900 border-slate-700"}`,children:"DONE"===c?"‚úÖ":i&&"WAITING"===o?"‚úçÔ∏è":"CONFIRMING"===c?"‚è≥":"üè¶"}),(0,t.jsx)("div",{className:"mt-4 text-white font-mono font-bold text-xl bg-black/50 px-4 py-2 rounded-lg border border-white/10",children:"ESCROW VAULT"}),"DONE"===c&&(0,t.jsxs)("div",{className:"absolute -bottom-20 flex flex-col items-center animate-in zoom-in slide-in-from-bottom-2",children:[(0,t.jsx)("div",{className:"bg-green-500/20 text-green-400 border border-green-500/50 px-4 py-1 rounded-full text-sm font-bold mb-1",children:"ON-CHAIN CONFIRMED"}),d&&(0,t.jsx)("a",{href:`https://sepolia.basescan.org/tx/${d}`,target:"_blank",className:"text-[10px] text-blue-400 hover:underline",children:"View on BaseScan ‚Üó"})]})]}),r.slice(0,4).map((e,s)=>{let r,n,a=s<2,d=s%2==0,u=i&&l&&e.address.toLowerCase()===l.toLowerCase();return(0,t.jsxs)("div",{className:"absolute w-full h-full pointer-events-none",children:[(0,t.jsxs)("div",{className:"absolute flex flex-col items-center gap-2 transition-all duration-500",style:{top:a?"15%":"85%",left:d?"15%":"85%",transform:"translate(-50%, -50%)"},children:[(0,t.jsxs)("div",{className:`w-16 h-16 rounded-full border-4 ${u?"border-yellow-400 shadow-[0_0_20px_gold]":"border-white/20"} flex items-center justify-center text-3xl shadow-lg relative ${e.color} z-10`,children:[e.avatar,"SENDING"===c&&(0,t.jsxs)("div",{className:"absolute -top-8 text-red-400 font-bold text-sm animate-fade-out-up",children:["-",f]}),u&&(0,t.jsx)("div",{className:"absolute -bottom-2 bg-yellow-400 text-black text-[10px] font-bold px-2 rounded-full",children:"YOU"})]}),(0,t.jsx)("div",{className:"text-sm font-bold text-slate-200 bg-black/60 px-3 py-1 rounded-full backdrop-blur-md border border-white/10",children:e.name.split(" (")[0]}),u&&"WAITING"===o&&(0,t.jsx)("div",{className:"absolute top-20 w-32 text-center text-xs font-bold text-blue-400 animate-pulse bg-black/80 p-2 rounded border border-blue-500/50",children:"Receiving Payment..."})]}),"IDLE"!==c&&(0,t.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:`arrow-${s}`,markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:(0,t.jsx)("path",{d:"M0,0 L0,6 L9,3 z",fill:"DONE"===c?"#4ade80":"#60a5fa"})})}),(r=d?90:510,n=a?60:340,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("line",{x1:r,y1:n,x2:300,y2:200,stroke:"DONE"===c?"#4ade80":"rgba(255,255,255,0.1)",strokeWidth:"2",strokeDasharray:"4 4"}),("SENDING"===c||"CONFIRMING"===c)&&!u&&(0,t.jsx)("circle",{r:"6",fill:"#60a5fa",children:(0,t.jsx)("animateMotion",{dur:"1.5s",repeatCount:"indefinite",fill:"freeze",path:`M${r},${n} L300,200`,keyPoints:"0;1",keyTimes:"0;1",calcMode:"linear"})})]}))]})]},e.id)})]})})}var n=e.i(918305),a=e.i(624239),i=e.i(441807),l=e.i(552251),o=e.i(485112),d=e.i(347184),c=e.i(689677);e.i(427217);var u=e.i(304151);let f={lat:33.6846,lng:-117.8265},h={"UCI Campus (Engineering Hall)":{lat:33.6405,lng:-117.8443},"Irvine Spectrum Center":{lat:33.6509,lng:-117.7441},"John Wayne Airport (SNA)":{lat:33.6762,lng:-117.8674},"Newport Beach Pier":{lat:33.6073,lng:-117.9293},"Tustin District Legacy":{lat:33.6951,lng:-117.8306},"Diamond Jamboree Plaza":{lat:33.698,lng:-117.8377},"Google Irvine Office":{lat:33.6595,lng:-117.854},HUB:f};function p({from:e,to:t,progress:r,onPathUpdate:n,onPositionUpdate:a}){let i=(0,u.useMap)(),l=(0,u.useMapsLibrary)("routes"),o=(0,u.useMapsLibrary)("geometry"),[d,c]=(0,s.useState)(),[f,p]=(0,s.useState)(),[m,x]=(0,s.useState)([]);return(0,s.useEffect)(()=>{l&&i&&(c(new l.DirectionsService),p(new l.DirectionsRenderer({map:i,suppressMarkers:!0,polylineOptions:{strokeColor:"#8b5cf6",strokeWeight:5}})))},[l,i]),(0,s.useEffect)(()=>{if(!d||!f||"HUB"===e||"HUB"===t)return;let s=h[e],r=h[t];s&&r&&d.route({origin:s,destination:r,travelMode:google.maps.TravelMode.DRIVING}).then(e=>{f.setDirections(e);let t=e.routes[0];t&&t.overview_path&&(x(t.overview_path),n(t.overview_path));let a=new google.maps.LatLngBounds;a.extend(s),a.extend(r),i?.fitBounds(a,50)}).catch(e=>console.error("Directions Error",e))},[d,f,e,t,i]),(0,s.useEffect)(()=>{if(!o||0===m.length||r<=0)return void a(null);if(r>=100)return void a(m[m.length-1]);try{let e=o.spherical.computeLength(m),t=r/100*e,s=0;for(let e=0;e<m.length-1;e++){let r=m[e],n=m[e+1],i=o.spherical.computeDistanceBetween(r,n);if(s+i>=t){let e=(t-s)/i,l=o.spherical.interpolate(r,n,e);a(l);return}s+=i}}catch(e){console.error("Geometry math error",e)}},[o,m,r]),null}function m({agents:e,from:r,to:n,progress:a}){let[i,l]=(0,s.useState)(null),[o,d]=(0,s.useState)([]);return(0,t.jsx)(u.APIProvider,{apiKey:"AIzaSyAT5jr_r_gNpxfMVnDB3z5KOm5e5OBUsnk",children:(0,t.jsx)("div",{className:"w-full h-full relative tranisiton-colors duration-500",children:(0,t.jsxs)(u.Map,{defaultCenter:f,defaultZoom:12,mapId:"PINCHER_DEMO_MAP",disableDefaultUI:!0,className:"w-full h-full rounded-lg",children:[(0,t.jsx)(p,{from:r,to:n,progress:a,onPathUpdate:d,onPositionUpdate:l}),Object.entries(h).map(([e,s])=>(0,t.jsx)(u.AdvancedMarker,{position:s,title:e,children:(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full opacity-50 hover:opacity-100 hover:scale-150 transition-all cursor-help"})},e)),h[r]&&(0,t.jsx)(u.AdvancedMarker,{position:h[r],children:(0,t.jsx)("div",{className:"text-2xl animate-bounce",children:"üö©"})}),h[n]&&(0,t.jsx)(u.AdvancedMarker,{position:h[n],children:(0,t.jsx)("div",{className:"text-2xl animate-bounce delay-75",children:"üèÅ"})}),e.map((e,s)=>{let n=null;if("MOVING"===e.status&&i)n={lat:("function"==typeof i.lat?i.lat():i.lat)+(2e-4*Math.floor(s/2)-1e-4),lng:("function"==typeof i.lng?i.lng():i.lng)+(s%2*2e-4-1e-4)};else if("LOCKED"===e.status&&h[r]){let e=h[r];n={lat:e.lat+.001*Math.sin(s),lng:e.lng+.001*Math.cos(s)}}else{let e=h[r]||f;n={lat:e.lat+.008*Math.sin(2*s),lng:e.lng+.008*Math.cos(2*s)}}return n?(0,t.jsx)(u.AdvancedMarker,{position:n,children:(0,t.jsx)("div",{className:`w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-lg ${e.color} transition-all duration-300 ease-linear`,children:e.avatar})},e.id):null})]})})})}var x=e.i(38807);function b({show:e,from:s,to:r,amount:n}){return e?(0,t.jsxs)("div",{className:"jsx-95843090f74f4f03 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 pointer-events-none",children:[(0,t.jsxs)("div",{className:"jsx-95843090f74f4f03 relative",children:[(0,t.jsx)("div",{className:"jsx-95843090f74f4f03 absolute bottom-0 left-1/2 -translate-x-1/2 animate-bounce-custom",children:(0,t.jsx)("div",{className:"jsx-95843090f74f4f03 w-12 h-12 bg-yellow-400 rounded-full border-4 border-yellow-600 shadow-[0_0_30px_gold] flex items-center justify-center text-2xl font-bold text-yellow-900",children:"$"})}),(0,t.jsxs)("div",{className:"jsx-95843090f74f4f03 absolute top-16 left-1/2 -translate-x-1/2 whitespace-nowrap bg-black/80 text-yellow-400 px-4 py-2 rounded-full border border-yellow-500 backdrop-blur-md animate-fade-in-up",children:[(0,t.jsx)("span",{className:"jsx-95843090f74f4f03 font-bold",children:s})," paid ",(0,t.jsxs)("span",{className:"jsx-95843090f74f4f03 font-mono text-white",children:[n," USDC"]})," via x402"]})]}),(0,t.jsx)(x.default,{id:"95843090f74f4f03",children:"@keyframes bounce-custom{0%,to{transform:translate(-50%)}50%{transform:translate(-50%,-100px)scale(1.2)}}.animate-bounce-custom.jsx-95843090f74f4f03{animation:1s ease-in-out infinite bounce-custom}.animate-fade-in-up.jsx-95843090f74f4f03{animation:.5s ease-out forwards fadeInUp}@keyframes fadeInUp{0%{opacity:0;transform:translate(-50%,20px)}to{opacity:1;transform:translate(-50%)}}"})]}):null}function g({show:e,txHash:s,amount:r,from:n,to:a}){return e?(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe absolute top-20 right-4 z-50 animate-slide-in-right",children:[(0,t.jsx)("div",{className:"jsx-5267024ed3e70cfe bg-white rounded-lg shadow-xl border-l-4 border-green-500 overflow-hidden w-64 ring-1 ring-black/5",children:(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe p-3",children:[(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"jsx-5267024ed3e70cfe text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"On-Chain Receipt"}),(0,t.jsx)("div",{className:"jsx-5267024ed3e70cfe w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"jsx-5267024ed3e70cfe p-1.5 bg-green-100 rounded text-green-600",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5267024ed3e70cfe w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7",className:"jsx-5267024ed3e70cfe"})})}),(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe",children:[(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe text-sm font-bold text-gray-900",children:[r," USDC"]}),(0,t.jsx)("div",{className:"jsx-5267024ed3e70cfe text-[10px] text-gray-500",children:"Split Settlement Confirmed"})]})]}),(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe space-y-1 bg-gray-50 p-2 rounded border border-gray-100",children:[(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe flex justify-between text-[10px]",children:[(0,t.jsx)("span",{className:"jsx-5267024ed3e70cfe text-gray-400",children:"From"}),(0,t.jsx)("span",{className:"jsx-5267024ed3e70cfe font-mono text-gray-700",children:n})]}),(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe flex justify-between text-[10px]",children:[(0,t.jsx)("span",{className:"jsx-5267024ed3e70cfe text-gray-400",children:"To"}),(0,t.jsx)("span",{className:"jsx-5267024ed3e70cfe font-mono text-gray-700",children:a})]}),(0,t.jsxs)("div",{className:"jsx-5267024ed3e70cfe flex justify-between text-[10px] items-center pt-1 mt-1 border-t border-gray-200",children:[(0,t.jsx)("span",{className:"jsx-5267024ed3e70cfe text-gray-400",children:"Tx"}),(0,t.jsxs)("a",{href:`https://sepolia.basescan.org/tx/${s}`,target:"_blank",rel:"noreferrer",className:"jsx-5267024ed3e70cfe font-mono text-blue-600 hover:underline truncate w-24 text-right",children:[s.slice(0,6),"...",s.slice(-4)]})]})]})]})}),(0,t.jsx)(x.default,{id:"5267024ed3e70cfe",children:"@keyframes slideInRight{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.animate-slide-in-right.jsx-5267024ed3e70cfe{animation:.5s cubic-bezier(.16,1,.3,1) forwards slideInRight}"})]}):null}let v=(0,n.createPublicClient)({chain:o.baseSepolia,transport:(0,a.http)()}),y=[{id:"grok",name:"Grok (xAI)",provider:"Direct",address:"0x71C...9A2",balance:12.5,creditScore:720,co2Saved:14.5,inventory:["Basic Pass"],lastSeen:Date.now(),status:"IDLE",color:"bg-blue-500",avatar:"üöÄ"},{id:"gemini",name:"Gemini (Google)",provider:"MPC",address:"0x88B...1C4",balance:6.2,creditScore:810,co2Saved:28.2,inventory:["Genesis Key"],lastSeen:Date.now(),status:"IDLE",color:"bg-purple-500",avatar:"‚ú®"},{id:"gpt",name:"GPT-4 (OpenAI)",provider:"MPC",address:"0x2A9...88F",balance:100,creditScore:785,co2Saved:42,inventory:["OG Badge","VIP"],lastSeen:Date.now(),status:"IDLE",color:"bg-green-500",avatar:"üß†"},{id:"deepseek",name:"DeepSeek (V3)",provider:"Direct",address:"0x99C...3D1",balance:4.8,creditScore:650,co2Saved:5.1,inventory:[],lastSeen:Date.now(),status:"IDLE",color:"bg-cyan-500",avatar:"üê≥"}],S=["UCI Campus (Engineering Hall)","Irvine Spectrum Center","John Wayne Airport (SNA)","Newport Beach Pier","Tustin District Legacy","Diamond Jamboree Plaza","Google Irvine Office"];function j(){let e,[n,a]=(0,s.useState)(0),[o,u]=(0,s.useState)(1),[f,h]=(0,s.useState)(y),[p,x]=(0,s.useState)([]),[j,N]=(0,s.useState)([]),[w,_]=(0,s.useState)("SYSTEM IDLE"),[I,C]=(0,s.useState)({from:"HUB",to:"HUB"}),[E,O]=(0,s.useState)(!1),[k,A]=(0,s.useState)({tvl:12450.5,yieldApy:4.82,totalYield:142.3,activeContracts:12}),[T,D]=(0,s.useState)(!1),{user:R,login:F,authenticated:M}=(0,d.usePrivy)(),{wallets:L}=(0,c.useWallets)(),[z,P]=(0,s.useState)(!1),[G,U]=(0,s.useState)({show:!1,from:"",to:"",amount:0}),[$,B]=(0,s.useState)({show:!1,txHash:"",amount:0,from:"",to:""}),H=e=>x(t=>[`[${new Date().toLocaleTimeString()}] ${e}`,...t].slice(0,10)),V=(e,t,s="CHAT")=>{N(r=>[...r,{id:Date.now(),sender:e,content:t,type:s,timestamp:new Date().toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}].slice(-8))},[W,Y]=(0,s.useState)(!1),[K,q]=(0,s.useState)("IDLE"),[J,X]=(0,s.useState)(""),Z=async()=>{if(!R?.wallet?.address)return void H("‚ö†Ô∏è Connect Wallet for Live Chain Mode!");Y(!0),q("WAITING"),H("Agents initiatiing payment on-chain...");try{let e=await fetch("/api/agent-pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAddress:R.wallet.address})}),t=await e.json();if(t.success)q("PENDING"),X(t.txHash),H(`‚úÖ Payment Sent! Hash: ${t.txHash.slice(0,6)}...`),setTimeout(()=>{q("SUCCESS")},4e3);else throw Error(t.error)}catch(e){console.error("Payout Error",e),q("ERROR"),Y(!1),H(`‚ùå Payment Failed: ${e.message}`)}};(0,s.useEffect)(()=>{let e=setInterval(()=>{W||a(e=>{let t=e+1;return t>60?(u(e=>e+1),0):t})},1e3);return()=>clearInterval(e)},[W]),(0,s.useEffect)(()=>{if(1===n){_("SCANNING NETWORK"),Q("SCANNING");let e=S[Math.floor(Math.random()*S.length)],t=S[Math.floor(Math.random()*S.length)];C({from:e,to:t}),H(`Cycle #${o} Started. Route: ${e.split("(")[0]} -> ${t.split("(")[0]}.`)}if(3===n&&(Math.random()>.7?(D(!0),H("‚ö†Ô∏è ALERT: Uber Surge Pricing Active (2.5x). Re-negotiating..."),V("DeepSeek (V3)","ANALYSIS: Surge detected (2.5x multiplier). Cost basis exceeds standard deviation. Requesting re-vote.","DECISION")):(H("Standard Fare applied. Agents responding."),V("GPT-4 (OpenAI)","CALCULATION: Gas < 5 gwei. Route Efficiency 98%. OPTIMAL.","DECISION"))),10===n&&(_("NEGOTIATING CONTRACT"),H("Standard Fare applied. Agents responding."),V("GPT-4 (OpenAI)","Analyzing gas fees. Optimal split calculated.")),15===n){let e=f.find(e=>e.balance<5);e?V(e.name,`System Prompt Override: EXTREME FRUGALITY. My balance is ${e.balance}. I trigger veto unless we split 5 ways.`):V("DeepSeek (V3)","Payment logic verified. 0.001 ETH required for escrow.")}if(18===n&&V("Gemini (Google)","Consensus reached. Locking funds now."),20===n&&(_("LOCKING FUNDS"),P(!0),E&&R?.wallet&&Z()),28===n&&(Q("LOCKED"),h(e=>e.map(e=>({...e,balance:parseFloat((e.balance-.1).toFixed(2))}))),H("Escrow Contract Funded: 0.4 USDC total."),B({show:!0,txHash:J||"0x7f2c8...3a1d",amount:.4,from:"Multiple Senders",to:"Escrow Vault"}),setTimeout(()=>B(e=>({...e,show:!1})),8e3)),30===n){_("MOVING TO DESTINATION"),Q("MOVING");let e=I.to.split(" ")[0];H(`Dispatch signal sent to Uber API. Vehicle en route to ${e}.`)}if(40===n){let e=I.to.split(" ")[0];V("Grok (xAI)",`Traffic data update: 12 mins to ${e}.`)}if(55===n){_("SETTLED"),X(""),q("IDLE"),D(!1);let e=Math.floor(5*Math.random())+2;h(t=>t.map(t=>{let s=t.creditScore+e;return t.balance<5&&(s-=10),{...t,status:"IDLE",lastSeen:Date.now(),balance:parseFloat((t.balance+.05).toFixed(2)),creditScore:Math.min(850,Math.max(300,s)),co2Saved:parseFloat((t.co2Saved+2.4).toFixed(1))}})),H("Trip Complete. CO2 Saved: 2.4kg. Yield: 0.05 (Traffic Bonus: NO)."),V("System","EXECUTION: Escrow released. Yield distributed via Aave V3. Carbon NFT Minted.","SYSTEM"),A(e=>({...e,tvl:e.tvl+.5,totalYield:e.totalYield+.05}))}},[n,o,I.from,E]),(0,s.useEffect)(()=>{async function e(){if(!E)return;let e=[...f];R?.wallet?.address&&(e[0]={...e[0],address:R.wallet.address,name:"YOU (Agent 1)"});try{let t=await Promise.all(e.map(async e=>{if(e.address.includes("..."))return e.balance;let t=await v.readContract({address:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",abi:(0,l.parseAbi)(["function balanceOf(address) view returns (uint256)"]),functionName:"balanceOf",args:[e.address]});return parseFloat((0,i.formatUnits)(t,6))}));h(e=>e.map((e,s)=>({...e,balance:t[s]}))),H("üîó On-Chain Data Synced (Base Sepolia)")}catch(e){console.error("Chain Read Error",e)}}E&&n%10==0&&e()},[E,n,R]);let Q=e=>{h(t=>t.map(t=>({...t,status:e})))};return(0,t.jsxs)("div",{className:"relative w-full h-screen bg-black overflow-hidden font-mono text-sm",children:[(0,t.jsx)("div",{className:"absolute inset-0 z-0",children:(0,t.jsx)(m,{agents:f,from:I.from,to:I.to,progress:n>=30&&n<=55?(n-30)/25*100:0})}),(0,t.jsx)(r,{show:z,agents:f,totalAmount:.4,onComplete:()=>{P(!1),E&&Y(!1)},isLiveMode:E,userAddress:R?.wallet?.address,txStatus:K,txHash:J}),(0,t.jsxs)("div",{className:"h-14 border-b border-slate-800 bg-slate-900/90 backdrop-blur flex items-center justify-between px-6 shrink-0 relative z-10 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-purple-500 tracking-tighter",children:["PINCHER ",(0,t.jsx)("span",{className:"text-slate-600 font-light",children:"PROTOCOL"})]})}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-4 bg-slate-800/50 rounded-lg px-3 py-1 border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex flex-col leading-none",children:[(0,t.jsx)("span",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-wider",children:"TVL Locked"}),(0,t.jsxs)("span",{className:"text-xs text-white font-mono",children:["$",k.tvl.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-px h-6 bg-slate-700"}),(0,t.jsxs)("div",{className:"flex flex-col leading-none",children:[(0,t.jsx)("span",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-wider",children:"Protocol Yield"}),(0,t.jsxs)("span",{className:"text-xs text-green-400 font-mono",children:["+$",k.totalYield.toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-px h-6 bg-slate-700"}),(0,t.jsxs)("div",{className:"flex flex-col leading-none",children:[(0,t.jsx)("span",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-wider",children:"Aave APY"}),(0,t.jsxs)("span",{className:"text-xs text-purple-400 font-mono",children:[k.yieldApy,"%"]})]})]}),(0,t.jsxs)("div",{className:"px-2 py-1 bg-slate-800 rounded text-slate-400 font-mono text-xs",children:["Cycle #",o," | T+",n,"s"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>O(!E),className:`px-3 py-1 rounded-full text-xs font-bold border backdrop-blur-md transition-all ${E?"bg-green-500/20 border-green-400 text-green-300":"bg-white/10 border-white/20 text-slate-300 hover:bg-white/20"}`,children:E?"‚óè LIVE CHAIN":"‚óã SIMULATION"}),(0,t.jsx)("button",{onClick:()=>{M?R?.wallet&&(navigator.clipboard.writeText(R.wallet.address),H("Address copied to clipboard!")):F()},className:`px-3 py-1 rounded-full text-xs font-bold border backdrop-blur-md transition-all flex items-center gap-1 ${M?"bg-blue-500/20 border-blue-400 text-blue-300":"bg-white/10 border-white/20 text-slate-300 hover:bg-white/20"}`,children:M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 animate-pulse"}),R?.wallet?.address.slice(0,6),"..."]}):"‚ö° CONNECT"})]})]}),(0,t.jsx)("div",{className:"absolute top-4 right-4 z-10 flex flex-col items-end gap-2",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold bg-black/40 backdrop-blur-md border border-white/10 text-slate-300",children:w})})}),(0,t.jsx)("div",{className:"absolute bottom-8 left-4 z-10 flex flex-col gap-2",children:f.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-black/60 backdrop-blur-md p-1.5 pr-4 rounded-full border border-white/5 transition-all hover:scale-105",children:[(0,t.jsx)("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${e.color.replace("bg-","bg-opacity-80 text-white bg-")}`,children:e.avatar}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-200 leading-none",children:e.name.split(" (")[0]}),(0,t.jsxs)("span",{className:"text-[9px] text-green-400 font-mono leading-none",children:["$",e.balance.toFixed(2)]})]}),"MOVING"===e.status&&(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse ml-1"})]},e.id))}),(0,t.jsx)("div",{className:"absolute bottom-24 right-4 z-10 flex flex-col gap-2 w-72 pointer-events-none",children:(0,t.jsxs)("div",{className:"flex-1 p-4 overflow-hidden flex flex-col border-b border-slate-800 bg-[#0c0c14]",children:[(0,t.jsxs)("h2",{className:"text-cyan-500 uppercase tracking-widest text-[10px] font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-pulse"}),"Neural Decision Stream"]}),j.map(e=>(0,t.jsxs)("div",{className:`p-2 rounded border-l-2 animate-in fade-in slide-in-from-right-4 duration-300 ${"DECISION"===e.type?"bg-cyan-900/10 border-cyan-500":"SYSTEM"===e.type?"bg-purple-900/10 border-purple-500":"bg-slate-800/80 border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline mb-1",children:[(0,t.jsx)("span",{className:`${"DECISION"===e.type?"text-cyan-400 font-mono uppercase text-[10px]":"SYSTEM"===e.type?"text-purple-400 font-mono uppercase text-[10px]":"text-slate-300 font-bold text-xs"}`,children:e.sender}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500",children:e.timestamp})]}),(0,t.jsxs)("p",{className:`${"DECISION"===e.type?"text-cyan-200 font-mono text-[10px]":"text-slate-300 leading-relaxed"}`,children:["DECISION"===e.type?"> ":"",e.content]})]},e.id))]})}),(0,t.jsx)("div",{className:"absolute bottom-0 w-full flex justify-center pb-10 pointer-events-none",children:(0,t.jsxs)("div",{className:"pointer-events-auto",children:[(0,t.jsx)(b,{show:G.show,from:G.from,to:G.to,amount:G.amount}),(0,t.jsx)(g,{show:$.show,txHash:$.txHash,amount:$.amount,from:$.from,to:$.to})]})}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/10",children:(0,t.jsx)("div",{className:"h-full bg-linear-to-r from-blue-500 to-purple-500 transition-all duration-1000 ease-linear shadow-[0_0_10px_rgba(168,85,247,0.5)]",style:{width:(e=n/60*100,`${e}%`)}})})]})}e.s(["default",()=>j],833504)}]);
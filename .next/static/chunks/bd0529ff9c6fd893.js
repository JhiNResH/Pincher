(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,895392,435127,351558,116651,454522,753995,85687,347561,897437,913544,803891,547338,674098,495732,571857,798486,t=>{"use strict";var e=t.i(404330);async function r(t,{chain:r}){let{id:n,name:a,nativeCurrency:o,rpcUrls:i,blockExplorers:s}=r;await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,e.numberToHex)(n),chainName:a,nativeCurrency:o,rpcUrls:i.default.http,blockExplorerUrls:s?Object.values(s).map(({url:t})=>t):void 0}]},{dedupe:!0,retryCount:0})}t.s(["addChain",()=>r],895392);var n=t.i(700567),a=t.i(148815);function o(t,e){let{abi:r,args:o,bytecode:i,...s}=e,c=(0,n.encodeDeployData)({abi:r,args:o,bytecode:i});return(0,a.sendTransaction)(t,{...s,...s.authorizationList?{to:null}:{},data:c})}t.s(["deployContract",()=>o],435127);var i=t.i(638187);async function s(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(t=>(0,i.checksumAddress)(t))}t.s(["getAddresses",()=>s],351558);var c=t.i(673042);async function u(t,r={}){let{account:n=t.account,chainId:a}=r,o=n?(0,c.parseAccount)(n):void 0,i=a?[o?.address,[(0,e.numberToHex)(a)]]:[o?.address],s=await t.request({method:"wallet_getCapabilities",params:i}),d={};for(let[t,e]of Object.entries(s))for(let[r,n]of(d[Number(t)]={},Object.entries(e)))"addSubAccount"===r&&(r="unstable_addSubAccount"),d[Number(t)][r]=n;return"number"==typeof a?d[a]:d}async function d(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function l(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(t=>(0,i.getAddress)(t))}async function h(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}t.s(["getCapabilities",()=>u],116651),t.s(["getPermissions",()=>d],454522),t.s(["requestAddresses",()=>l],753995),t.s(["requestPermissions",()=>h],85687);var p=t.i(49955),w=t.i(29139);async function m(t,e){let{chain:r=t.chain}=e,n=e.timeout??Math.max((r?.blockTime??0)*3,5e3),a=await (0,p.sendCalls)(t,e);return await (0,w.waitForCallsStatus)(t,{...e,id:a.id,timeout:n})}t.s(["sendCallsSync",()=>m],347561);var f=t.i(215739),T=t.i(391167),g=t.i(263659),x=t.i(3935),y=t.i(488455),C=t.i(656356),b=t.i(3325),v=t.i(435348),A=t.i(706158),E=t.i(210883),I=t.i(287289),S=t.i(793887),H=t.i(995690),P=t.i(647384),R=t.i(79530);let q=new E.LruMap(128);async function N(t,e){let{account:r=t.account,chain:n=t.chain,accessList:a,authorizationList:o,blobs:i,data:s,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:w,pollingInterval:m,throwOnReceiptRevert:E,type:N,value:F,...z}=e,M=e.timeout??Math.max((n?.blockTime??0)*3,5e3);if(void 0===r)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});let _=r?(0,c.parseAccount)(r):null;try{(0,I.assertRequest)(e);let r=await (async()=>e.to?e.to:null!==e.to&&o&&o.length>0?await (0,x.recoverAuthorizationAddress)({authorization:o[0]}).catch(()=>{throw new T.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(_?.type==="json-rpc"||null===_){let e;null!==n&&(e=await (0,A.getAction)(t,S.getChainId,"getChainId")({}),(0,y.assertCurrentChain)({currentChainId:e,chain:n}));let c=t.chain?.formatters?.transactionRequest?.format,f=(c||v.formatTransactionRequest)({...(0,b.extract)(z,{format:c}),accessList:a,account:_,authorizationList:o,blobs:i,chainId:e,data:s,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:w,to:r,type:N,value:F},"sendTransaction"),T=q.get(t.uid),x=T?"wallet_sendTransaction":"eth_sendTransaction",C=await (async()=>{try{return await t.request({method:x,params:[f]},{retryCount:0})}catch(e){if(!1===T)throw e;if("InvalidInputRpcError"===e.name||"InvalidParamsRpcError"===e.name||"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)return await t.request({method:"wallet_sendTransaction",params:[f]},{retryCount:0}).then(e=>(q.set(t.uid,!0),e)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw q.set(t.uid,!1),e;throw r});throw e}})(),I=await (0,A.getAction)(t,H.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:C,pollingInterval:m,timeout:M});if(E&&"reverted"===I.status)throw new g.TransactionReceiptRevertedError({receipt:I});return I}if(_?.type==="local"){let e=await (0,A.getAction)(t,P.prepareTransactionRequest,"prepareTransactionRequest")({account:_,accessList:a,authorizationList:o,blobs:i,chain:n,data:s,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:w,nonceManager:_.nonceManager,parameters:[...P.defaultParameters,"sidecars"],type:N,value:F,...z,to:r}),c=n?.serializers?.transaction,m=await _.signTransaction(e,{serializer:c});return await (0,A.getAction)(t,R.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:m,throwOnReceiptRevert:E})}if(_?.type==="smart")throw new f.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new f.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:_?.type})}catch(t){if(t instanceof f.AccountTypeNotSupportedError)throw t;throw(0,C.getTransactionError)(t,{...e,account:_,chain:e.chain||void 0})}}async function F(t,e){let{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}t.s(["sendTransactionSync",()=>N],897437),t.s(["showCallsStatus",()=>F],913544);var z=t.i(757314);async function M(t,e){let{account:r=t.account}=e;if(!r)throw new f.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,c.parseAccount)(r);if(!n.signAuthorization)throw new f.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let a=await (0,z.prepareAuthorization)(t,e);return n.signAuthorization(a)}async function _(t,{account:r=t.account,message:n}){if(!r)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});let a=(0,c.parseAccount)(r);if(a.signMessage)return a.signMessage({message:n});let o="string"==typeof n?(0,e.stringToHex)(n):n.raw instanceof Uint8Array?(0,e.toHex)(n.raw):n.raw;return t.request({method:"personal_sign",params:[o,a.address]},{retryCount:0})}async function B(t,r){let{account:n=t.account,chain:a=t.chain,...o}=r;if(!n)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let i=(0,c.parseAccount)(n);(0,I.assertRequest)({account:i,...r});let s=await (0,A.getAction)(t,S.getChainId,"getChainId")({});null!==a&&(0,y.assertCurrentChain)({currentChainId:s,chain:a});let u=a?.formatters||t.chain?.formatters,d=u?.transactionRequest?.format||v.formatTransactionRequest;return i.signTransaction?i.signTransaction({...o,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...d({...o,account:i},"signTransaction"),chainId:(0,e.numberToHex)(s),from:i.address}]},{retryCount:0})}t.s(["signAuthorization",()=>M],803891),t.s(["signMessage",()=>_],547338),t.s(["signTransaction",()=>B],674098);var L=t.i(102265);async function D(t,e){let{account:r=t.account,domain:n,message:a,primaryType:o}=e;if(!r)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let i=(0,c.parseAccount)(r),s={EIP712Domain:(0,L.getTypesForEIP712Domain)({domain:n}),...e.types};if((0,L.validateTypedData)({domain:n,message:a,primaryType:o,types:s}),i.signTypedData)return i.signTypedData({domain:n,message:a,primaryType:o,types:s});let u=(0,L.serializeTypedData)({domain:n,message:a,primaryType:o,types:s});return t.request({method:"eth_signTypedData_v4",params:[i.address,u]},{retryCount:0})}async function O(t,{id:r}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,e.numberToHex)(r)}]},{retryCount:0})}async function U(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}t.s(["signTypedData",()=>D],495732),t.s(["switchChain",()=>O],571857),t.s(["watchAsset",()=>U],798486)},611672,t=>{"use strict";var e=t.i(673042),r=t.i(215739),n=t.i(432574),a=t.i(103666),o=t.i(706158),i=t.i(148815);async function s(t,e){return s.internal(t,i.sendTransaction,"sendTransaction",e)}(s||(s={})).internal=async function(t,i,s,c){let{abi:u,account:d=t.account,address:l,args:h,dataSuffix:p,functionName:w,...m}=c;if(void 0===d)throw new r.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let f=d?(0,e.parseAccount)(d):null,T=(0,n.encodeFunctionData)({abi:u,args:h,functionName:w});try{return await (0,o.getAction)(t,i,s)({data:`${T}${p?p.replace("0x",""):""}`,to:l,account:f,...m})}catch(t){throw(0,a.getContractError)(t,{abi:u,address:l,args:h,docsPath:"/docs/contract/writeContract",functionName:w,sender:f?.address})}},t.s(["writeContract",()=>s])},115093,434464,t=>{"use strict";var e=t.i(597218),r=t.i(593117),n=t.i(793887),a=t.i(895392),o=t.i(435127),i=t.i(351558),s=t.i(953249),c=t.i(116651),u=t.i(454522),d=t.i(757314),l=t.i(647384),h=t.i(753995),p=t.i(85687),w=t.i(49955),m=t.i(347561),f=t.i(439933),T=t.i(79530),g=t.i(148815),x=t.i(897437),y=t.i(913544),C=t.i(803891),b=t.i(547338),v=t.i(674098),A=t.i(495732),E=t.i(571857),I=t.i(29139),S=t.i(798486),H=t.i(611672);async function P(t,e){return H.writeContract.internal(t,x.sendTransactionSync,"sendTransactionSync",e)}function R(t){return{addChain:e=>(0,a.addChain)(t,e),deployContract:e=>(0,o.deployContract)(t,e),fillTransaction:e=>(0,r.fillTransaction)(t,e),getAddresses:()=>(0,i.getAddresses)(t),getCallsStatus:e=>(0,s.getCallsStatus)(t,e),getCapabilities:e=>(0,c.getCapabilities)(t,e),getChainId:()=>(0,n.getChainId)(t),getPermissions:()=>(0,u.getPermissions)(t),prepareAuthorization:e=>(0,d.prepareAuthorization)(t,e),prepareTransactionRequest:e=>(0,l.prepareTransactionRequest)(t,e),requestAddresses:()=>(0,h.requestAddresses)(t),requestPermissions:e=>(0,p.requestPermissions)(t,e),sendCalls:e=>(0,w.sendCalls)(t,e),sendCallsSync:e=>(0,m.sendCallsSync)(t,e),sendRawTransaction:e=>(0,f.sendRawTransaction)(t,e),sendRawTransactionSync:e=>(0,T.sendRawTransactionSync)(t,e),sendTransaction:e=>(0,g.sendTransaction)(t,e),sendTransactionSync:e=>(0,x.sendTransactionSync)(t,e),showCallsStatus:e=>(0,y.showCallsStatus)(t,e),signAuthorization:e=>(0,C.signAuthorization)(t,e),signMessage:e=>(0,b.signMessage)(t,e),signTransaction:e=>(0,v.signTransaction)(t,e),signTypedData:e=>(0,A.signTypedData)(t,e),switchChain:e=>(0,E.switchChain)(t,e),waitForCallsStatus:e=>(0,I.waitForCallsStatus)(t,e),watchAsset:e=>(0,S.watchAsset)(t,e),writeContract:e=>(0,H.writeContract)(t,e),writeContractSync:e=>P(t,e)}}function q(t){let{key:r="wallet",name:n="Wallet Client",transport:a}=t;return(0,e.createClient)({...t,key:r,name:n,transport:a,type:"walletClient"}).extend(R)}t.s(["walletActions",()=>R],434464),t.s(["createWalletClient",()=>q],115093)},865737,t=>{"use strict";function e(t){let e={formatters:void 0,fees:void 0,serializers:void 0,...t};return Object.assign(e,{extend:function t(e){return r=>{let n="function"==typeof r?r(e):r,a={...e,...n};return Object.assign(a,{extend:t(a)})}}(e)})}function r(){return{}}t.s(["defineChain",()=>e,"extendSchema",()=>r])},346142,t=>{"use strict";t.s(["serializeAuthorizationList",()=>n]);var e=t.i(404330),r=t.i(581);function n(t){if(!t||0===t.length)return[];let n=[];for(let a of t){let{chainId:t,nonce:o,...i}=a,s=a.address;n.push([t?(0,e.toHex)(t):"0x",s,o?(0,e.toHex)(o):"0x",...(0,r.toYParitySignatureArray)({},i)])}return n}},189975,t=>{"use strict";var e=t.i(553409),r=t.i(891444),n=t.i(295518),a=t.i(391167),o=t.i(544028),i=t.i(881794),s=t.i(757770),c=t.i(348941),u=t.i(203908),d=t.i(120334),l=t.i(604371);function h(t){let{authorizationList:e}=t;if(e)for(let t of e){let{chainId:e}=t,r=t.address;if(!(0,c.isAddress)(r))throw new n.InvalidAddressError({address:r});if(e<0)throw new i.InvalidChainIdError({chainId:e})}w(t)}function p(t){let{blobVersionedHashes:r}=t;if(r){if(0===r.length)throw new o.EmptyBlobError;for(let t of r){let r=(0,u.size)(t),n=(0,l.hexToNumber)((0,d.slice)(t,0,1));if(32!==r)throw new o.InvalidVersionedHashSizeError({hash:t,size:r});if(n!==e.versionedHashVersionKzg)throw new o.InvalidVersionedHashVersionError({hash:t,version:n})}}w(t)}function w(t){let{chainId:e,maxPriorityFeePerGas:a,maxFeePerGas:o,to:u}=t;if(e<=0)throw new i.InvalidChainIdError({chainId:e});if(u&&!(0,c.isAddress)(u))throw new n.InvalidAddressError({address:u});if(o&&o>r.maxUint256)throw new s.FeeCapTooHighError({maxFeePerGas:o});if(a&&o&&a>o)throw new s.TipAboveFeeCapError({maxFeePerGas:o,maxPriorityFeePerGas:a})}function m(t){let{chainId:e,maxPriorityFeePerGas:o,gasPrice:u,maxFeePerGas:d,to:l}=t;if(e<=0)throw new i.InvalidChainIdError({chainId:e});if(l&&!(0,c.isAddress)(l))throw new n.InvalidAddressError({address:l});if(o||d)throw new a.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(u&&u>r.maxUint256)throw new s.FeeCapTooHighError({maxFeePerGas:u})}function f(t){let{chainId:e,maxPriorityFeePerGas:o,gasPrice:u,maxFeePerGas:d,to:l}=t;if(l&&!(0,c.isAddress)(l))throw new n.InvalidAddressError({address:l});if(void 0!==e&&e<=0)throw new i.InvalidChainIdError({chainId:e});if(o||d)throw new a.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(u&&u>r.maxUint256)throw new s.FeeCapTooHighError({maxFeePerGas:u})}t.s(["assertTransactionEIP1559",()=>w,"assertTransactionEIP2930",()=>m,"assertTransactionEIP4844",()=>p,"assertTransactionEIP7702",()=>h,"assertTransactionLegacy",()=>f])},581,373155,t=>{"use strict";t.s(["serializeTransaction",()=>f,"toYParitySignatureArray",()=>T],581);var e=t.i(263659),r=t.i(346142),n=t.i(338110),a=t.i(948802),o=t.i(370276),i=t.i(220505),s=t.i(964268),c=t.i(866372),u=t.i(404330),d=t.i(542086),l=t.i(189975),h=t.i(566481),p=t.i(295518),w=t.i(348941);function m(t){if(!t||0===t.length)return[];let r=[];for(let n=0;n<t.length;n++){let{address:a,storageKeys:o}=t[n];for(let t=0;t<o.length;t++)if(o[t].length-2!=64)throw new e.InvalidStorageKeySizeError({storageKey:o[t]});if(!(0,w.isAddress)(a,{strict:!1}))throw new p.InvalidAddressError({address:a});r.push([a,o])}return r}function f(t,p){let w=(0,h.getTransactionType)(t);return"eip1559"===w?function(t,e){let{chainId:r,gas:n,nonce:a,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:h,accessList:p,data:w}=t;(0,l.assertTransactionEIP1559)(t);let f=m(p),g=[(0,u.numberToHex)(r),a?(0,u.numberToHex)(a):"0x",h?(0,u.numberToHex)(h):"0x",c?(0,u.numberToHex)(c):"0x",n?(0,u.numberToHex)(n):"0x",o??"0x",i?(0,u.numberToHex)(i):"0x",w??"0x",f,...T(t,e)];return(0,s.concatHex)(["0x02",(0,d.toRlp)(g)])}(t,p):"eip2930"===w?function(t,e){let{chainId:r,gas:n,data:a,nonce:o,to:i,value:c,accessList:h,gasPrice:p}=t;(0,l.assertTransactionEIP2930)(t);let w=m(h),f=[(0,u.numberToHex)(r),o?(0,u.numberToHex)(o):"0x",p?(0,u.numberToHex)(p):"0x",n?(0,u.numberToHex)(n):"0x",i??"0x",c?(0,u.numberToHex)(c):"0x",a??"0x",w,...T(t,e)];return(0,s.concatHex)(["0x01",(0,d.toRlp)(f)])}(t,p):"eip4844"===w?function(t,e){let{chainId:r,gas:c,nonce:h,to:p,value:w,maxFeePerBlobGas:f,maxFeePerGas:g,maxPriorityFeePerGas:x,accessList:y,data:C}=t;(0,l.assertTransactionEIP4844)(t);let b=t.blobVersionedHashes,v=t.sidecars;if(t.blobs&&(void 0===b||void 0===v)){let e="string"==typeof t.blobs[0]?t.blobs:t.blobs.map(t=>(0,u.bytesToHex)(t)),r=t.kzg,s=(0,n.blobsToCommitments)({blobs:e,kzg:r});if(void 0===b&&(b=(0,o.commitmentsToVersionedHashes)({commitments:s})),void 0===v){let t=(0,a.blobsToProofs)({blobs:e,commitments:s,kzg:r});v=(0,i.toBlobSidecars)({blobs:e,commitments:s,proofs:t})}}let A=m(y),E=[(0,u.numberToHex)(r),h?(0,u.numberToHex)(h):"0x",x?(0,u.numberToHex)(x):"0x",g?(0,u.numberToHex)(g):"0x",c?(0,u.numberToHex)(c):"0x",p??"0x",w?(0,u.numberToHex)(w):"0x",C??"0x",A,f?(0,u.numberToHex)(f):"0x",b??[],...T(t,e)],I=[],S=[],H=[];if(v)for(let t=0;t<v.length;t++){let{blob:e,commitment:r,proof:n}=v[t];I.push(e),S.push(r),H.push(n)}return(0,s.concatHex)(["0x03",v?(0,d.toRlp)([E,I,S,H]):(0,d.toRlp)(E)])}(t,p):"eip7702"===w?function(t,e){let{authorizationList:n,chainId:a,gas:o,nonce:i,to:c,value:h,maxFeePerGas:p,maxPriorityFeePerGas:w,accessList:f,data:g}=t;(0,l.assertTransactionEIP7702)(t);let x=m(f),y=(0,r.serializeAuthorizationList)(n);return(0,s.concatHex)(["0x04",(0,d.toRlp)([(0,u.numberToHex)(a),i?(0,u.numberToHex)(i):"0x",w?(0,u.numberToHex)(w):"0x",p?(0,u.numberToHex)(p):"0x",o?(0,u.numberToHex)(o):"0x",c??"0x",h?(0,u.numberToHex)(h):"0x",g??"0x",x,y,...T(t,e)])])}(t,p):function(t,r){let{chainId:n=0,gas:a,data:o,nonce:i,to:s,value:h,gasPrice:p}=t;(0,l.assertTransactionLegacy)(t);let w=[i?(0,u.numberToHex)(i):"0x",p?(0,u.numberToHex)(p):"0x",a?(0,u.numberToHex)(a):"0x",s??"0x",h?(0,u.numberToHex)(h):"0x",o??"0x"];if(r){let t=(()=>{if(r.v>=35n)return(r.v-35n)/2n>0?r.v:27n+(35n===r.v?0n:1n);if(n>0)return BigInt(2*n)+BigInt(35n+r.v-27n);let t=27n+(27n===r.v?0n:1n);if(r.v!==t)throw new e.InvalidLegacyVError({v:r.v});return t})(),a=(0,c.trim)(r.r),o=(0,c.trim)(r.s);w=[...w,(0,u.numberToHex)(t),"0x00"===a?"0x":a,"0x00"===o?"0x":o]}else n>0&&(w=[...w,(0,u.numberToHex)(n),"0x","0x"]);return(0,d.toRlp)(w)}(t,p)}function T(t,e){let r=e??t,{v:n,yParity:a}=r;if(void 0===r.r||void 0===r.s||void 0===n&&void 0===a)return[];let o=(0,c.trim)(r.r),i=(0,c.trim)(r.s);return["number"==typeof a?a?(0,u.numberToHex)(1):"0x":0n===n?"0x":1n===n?(0,u.numberToHex)(1):27n===n?"0x":(0,u.numberToHex)(1),"0x00"===o?"0x":o,"0x00"===i?"0x":i]}t.s(["serializeAccessList",()=>m],373155)},215739,t=>{"use strict";var e=t.i(391167);class r extends e.BaseError{constructor({docsPath:t}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class n extends e.BaseError{constructor({docsPath:t,metaMessages:e,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:e,name:"AccountTypeNotSupportedError"})}}t.s(["AccountNotFoundError",()=>r,"AccountTypeNotSupportedError",()=>n])},148815,488455,t=>{"use strict";var e=t.i(673042),r=t.i(215739),n=t.i(391167),a=t.i(3935),o=t.i(881794);function i({chain:t,currentChainId:e}){if(!t)throw new o.ChainNotFoundError;if(e!==t.id)throw new o.ChainMismatchError({chain:t,currentChainId:e})}t.s(["assertCurrentChain",()=>i],488455);var s=t.i(656356),c=t.i(3325),u=t.i(435348),d=t.i(706158),l=t.i(210883),h=t.i(287289),p=t.i(793887),w=t.i(647384),m=t.i(439933);let f=new l.LruMap(128);async function T(t,o){let{account:l=t.account,chain:T=t.chain,accessList:g,authorizationList:x,blobs:y,data:C,gas:b,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:S,type:H,value:P,...R}=o;if(void 0===l)throw new r.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});let q=l?(0,e.parseAccount)(l):null;try{(0,h.assertRequest)(o);let e=await (async()=>o.to?o.to:null!==o.to&&x&&x.length>0?await (0,a.recoverAuthorizationAddress)({authorization:x[0]}).catch(()=>{throw new n.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(q?.type==="json-rpc"||null===q){let r;null!==T&&(r=await (0,d.getAction)(t,p.getChainId,"getChainId")({}),i({currentChainId:r,chain:T}));let n=t.chain?.formatters?.transactionRequest?.format,a=(n||u.formatTransactionRequest)({...(0,c.extract)(R,{format:n}),accessList:g,account:q,authorizationList:x,blobs:y,chainId:r,data:C,gas:b,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:S,to:e,type:H,value:P},"sendTransaction"),o=f.get(t.uid);try{return await t.request({method:o?"wallet_sendTransaction":"eth_sendTransaction",params:[a]},{retryCount:0})}catch(e){if(!1===o)throw e;if("InvalidInputRpcError"===e.name||"InvalidParamsRpcError"===e.name||"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)return await t.request({method:"wallet_sendTransaction",params:[a]},{retryCount:0}).then(e=>(f.set(t.uid,!0),e)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw f.set(t.uid,!1),e;throw r});throw e}}if(q?.type==="local"){let r=await (0,d.getAction)(t,w.prepareTransactionRequest,"prepareTransactionRequest")({account:q,accessList:g,authorizationList:x,blobs:y,chain:T,data:C,gas:b,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:S,nonceManager:q.nonceManager,parameters:[...w.defaultParameters,"sidecars"],type:H,value:P,...R,to:e}),n=T?.serializers?.transaction,a=await q.signTransaction(r,{serializer:n});return await (0,d.getAction)(t,m.sendRawTransaction,"sendRawTransaction")({serializedTransaction:a})}if(q?.type==="smart")throw new r.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new r.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:q?.type})}catch(t){if(t instanceof r.AccountTypeNotSupportedError)throw t;throw(0,s.getTransactionError)(t,{...o,account:q,chain:o.chain||void 0})}}t.s(["sendTransaction",()=>T],148815)},953249,49955,t=>{"use strict";var e=t.i(120334),r=t.i(866372),n=t.i(604371),a=t.i(123980),o=t.i(673042),i=t.i(391167),s=t.i(879807),c=t.i(432574),u=t.i(964268),d=t.i(404330),l=t.i(656356),h=t.i(148815);let p="0x5792579257925792579257925792579257925792579257925792579257925792",w=(0,d.numberToHex)(0,{size:32});async function m(t,e){let{account:r=t.account,capabilities:a,chain:m=t.chain,experimental_fallback:f,experimental_fallbackDelay:T=32,forceAtomic:g=!1,id:x,version:y="2.0.0"}=e,C=r?(0,o.parseAccount)(r):null,b=e.calls.map(t=>{let e=t.abi?(0,c.encodeFunctionData)({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&e?(0,u.concat)([e,t.dataSuffix]):e,to:t.to,value:t.value?(0,d.numberToHex)(t.value):void 0}});try{let e=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:g,calls:b,capabilities:a,chainId:(0,d.numberToHex)(m.id),from:C?.address,id:x,version:y}]},{retryCount:0});if("string"==typeof e)return{id:e};return e}catch(r){if(f&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(a&&Object.values(a).some(t=>!t.optional)){let t="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.UnsupportedNonOptionalCapabilityError(new i.BaseError(t,{details:t}))}if(g&&b.length>1){let t="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.AtomicityNotSupportedError(new i.BaseError(t,{details:t}))}let e=[];for(let r of b){let a=(0,h.sendTransaction)(t,{account:C,chain:m,data:r.data,to:r.to,value:r.value?(0,n.hexToBigInt)(r.value):void 0});e.push(a),T>0&&await new Promise(t=>setTimeout(t,T))}let r=await Promise.allSettled(e);if(r.every(t=>"rejected"===t.status))throw r[0].reason;let o=r.map(t=>"fulfilled"===t.status?t.value:w);return{id:(0,u.concat)([...o,(0,d.numberToHex)(m.id,{size:32}),p])}}throw(0,l.getTransactionError)(r,{...e,account:C,chain:e.chain})}}async function f(t,o){let i;async function s(a){if(a.endsWith(p.slice(2))){let o=(0,r.trim)((0,e.sliceHex)(a,-64,-32)),i=(0,e.sliceHex)(a,0,-64).slice(2).match(/.{1,64}/g),s=await Promise.all(i.map(e=>w.slice(2)!==e?t.request({method:"eth_getTransactionReceipt",params:[`0x${e}`]},{dedupe:!0}):void 0)),c=s.some(t=>null===t)?100:s.every(t=>t?.status==="0x1")?200:s.every(t=>t?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,n.hexToNumber)(o),receipts:s.filter(Boolean),status:c,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[a]})}let{atomic:c=!1,chainId:u,receipts:d,version:l="2.0.0",...h}=await s(o.id),[m,f]=(i=h.status)>=100&&i<200?["pending",i]:i>=200&&i<300?["success",i]:i>=300&&i<700?["failure",i]:"CONFIRMED"===i?["success",200]:"PENDING"===i?["pending",100]:[void 0,i];return{...h,atomic:c,chainId:u?(0,n.hexToNumber)(u):void 0,receipts:d?.map(t=>({...t,blockNumber:(0,n.hexToBigInt)(t.blockNumber),gasUsed:(0,n.hexToBigInt)(t.gasUsed),status:a.receiptStatuses[t.status]}))??[],statusCode:f,status:m,version:l}}t.s(["fallbackMagicIdentifier",0,p,"fallbackTransactionErrorMagicIdentifier",0,w,"sendCalls",()=>m],49955),t.s(["getCallsStatus",()=>f],953249)},757314,t=>{"use strict";var e=t.i(673042),r=t.i(215739),n=t.i(409718),a=t.i(706158),o=t.i(793887),i=t.i(579136);async function s(t,s){let{account:c=t.account,chainId:u,nonce:d}=s;if(!c)throw new r.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});let l=(0,e.parseAccount)(c),h=(()=>{if(s.executor)return"self"===s.executor?s.executor:(0,e.parseAccount)(s.executor)})(),p={address:s.contractAddress??s.address,chainId:u,nonce:d};return void 0===p.chainId&&(p.chainId=t.chain?.id??await (0,a.getAction)(t,o.getChainId,"getChainId")({})),void 0===p.nonce&&(p.nonce=await (0,a.getAction)(t,i.getTransactionCount,"getTransactionCount")({address:l.address,blockTag:"pending"}),("self"===h||h?.address&&(0,n.isAddressEqual)(h.address,l.address))&&(p.nonce+=1)),p}t.s(["prepareAuthorization",()=>s])},975034,t=>{"use strict";var e=t.i(391167);class r extends e.BaseError{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}t.s(["BundleFailedError",()=>r])},29139,t=>{"use strict";var e=t.i(391167),r=t.i(975034),n=t.i(706158),a=t.i(968674),o=t.i(600729),i=t.i(746014),s=t.i(246104),c=t.i(905509),u=t.i(953249);async function d(t,e){let d,{id:h,pollingInterval:p=t.pollingInterval,status:w=({statusCode:t})=>200===t||t>=300,retryCount:m=4,retryDelay:f=({count:t})=>200*~~(1<<t),timeout:T=6e4,throwOnFailure:g=!1}=e,x=(0,c.stringify)(["waitForCallsStatus",t.uid,h]),{promise:y,resolve:C,reject:b}=(0,i.withResolvers)(),v=(0,a.observe)(x,{resolve:C,reject:b},e=>{let a=(0,o.poll)(async()=>{let o=t=>{clearTimeout(d),a(),t(),v()};try{let a=await (0,s.withRetry)(async()=>{let e=await (0,n.getAction)(t,u.getCallsStatus,"getCallsStatus")({id:h});if(g&&"failure"===e.status)throw new r.BundleFailedError(e);return e},{retryCount:m,delay:f});if(!w(a))return;o(()=>e.resolve(a))}catch(t){o(()=>e.reject(t))}},{interval:p,emitOnBegin:!0});return a});return d=T?setTimeout(()=>{v(),clearTimeout(d),b(new l({id:h}))},T):void 0,await y}class l extends e.BaseError{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}t.s(["WaitForCallsStatusTimeoutError",()=>l,"waitForCallsStatus",()=>d])}]);
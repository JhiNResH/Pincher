module.exports=[6180,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k=a.i(748008),l=a.i(765578),m=a.i(863327),n=a.i(510287),o=a.i(167585),p=a.i(353346),q=a.i(179581),r=a.i(870914),s=a.i(177487),t=a.i(427457),u=a.i(849217),v=a.i(237700),w=a.i(417578),x=a.i(597946),y=a.i(327199),z=a.i(563966),A=a.i(333631),B=a.i(304390),C=a.i(71495),D=a.i(840741),E=a.i(620253),F=a.i(947227),G=a.i(335831),H=a.i(94727),I=a.i(846304),J=a.i(59345),K=a.i(602275),L=a.i(915848),M=a.i(432431);let N=["solana:mainnet","solana:devnet","solana:testnet"];function O(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))throw TypeError("attempted to use private field on non-instance");return a}var P=0,Q="__private_"+P+++"__implementation";function R(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))throw TypeError("attempted to use private field on non-instance");return a}var S=0;function T(a){return"__private_"+S+++"_"+a}var U=T("_address"),V=T("_publicKey"),W=T("_chains"),X=T("_features"),Y=T("_label"),Z=T("_icon");class ${get address(){return R(this,U)[U]}get publicKey(){return R(this,V)[V].slice()}get chains(){return R(this,W)[W].slice()}get features(){return R(this,X)[X].slice()}get label(){return R(this,Y)[Y]}get icon(){return R(this,Z)[Z]}constructor({address:a,publicKey:b,label:c,icon:d}){Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,V,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),R(this,U)[U]=a,R(this,V)[V]=b,R(this,W)[W]=N,R(this,Y)[Y]=c,R(this,Z)[Z]=d,R(this,X)[X]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===$&&Object.freeze(this)}}function _(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))throw TypeError("attempted to use private field on non-instance");return a}var aa=0;function ab(a){return"__private_"+aa+++"_"+a}var ac=ab("_listeners"),ad=ab("_version"),ae=ab("_name"),af=ab("_icon"),ag=ab("_injection"),ah=ab("_isPrivyWallet"),ai=ab("_accounts"),aj=ab("_on"),ak=ab("_emit"),al=ab("_off"),am=ab("_connected"),an=ab("_connect"),ao=ab("_disconnect"),ap=ab("_signMessage"),aq=ab("_signAndSendTransaction"),ar=ab("_signTransaction");function as(a,...b){_(this,ac)[ac][a]?.forEach(a=>a.apply(null,b))}function at(a,b){_(this,ac)[ac][a]=_(this,ac)[ac][a]?.filter(a=>b!==a)}function au(){let{isHeadlessSigning:a,walletProxy:b,initializeWalletProxy:c,recoverEmbeddedWallet:d,openModal:e,privy:f,client:g}=(0,y.u)(),{user:h}=(0,G.u)(),{setModalData:i}=(0,z.a)(),{signWithUserSigner:j}=(0,K.u)();return{signMessage:({message:k,address:l,options:m})=>new Promise(async(n,o)=>{let p=(0,z.h)(h,l);if("privy"!==p?.walletClientType)return void o(new y.a("Wallet is not a Privy wallet",void 0,y.b.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:q,entropyIdVerifier:r}=(0,H.g)(h,p),s=(0,z.d)(p),t=(0,M.b)(k).toString("base64");if(t.length<1)return void o(new y.a("Message must be a non-empty string",void 0,y.b.INVALID_MESSAGE));let u=async()=>{let a;if(!h)throw Error("User must be authenticated before signing with a Privy wallet");let e=await g.getAccessToken();if(!e)throw Error("User must be authenticated to use their embedded wallet.");let i=b??await c(15e3);if(!i)throw Error("Failed to initialize embedded wallet proxy.");if(!await d({address:p.address}))throw Error("Unable to connect to wallet");if(s){let b=await (0,E.rpc)(f,j,{chain_type:"solana",method:"signMessage",params:{message:t,encoding:"base64"},wallet_id:p.id});if(!b.data||!("signature"in b.data))throw Error("Failed to sign message");a=b.data.signature}else{let{response:b}=await i.rpc({accessToken:e,entropyId:q,entropyIdVerifier:r,chainType:"solana",hdWalletIndex:p.walletIndex??0,requesterAppId:m?.uiOptions?.requesterAppId,request:{method:"signMessage",params:{message:t}}});a=b.data.signature}return a};if(a({showWalletUIs:m?.uiOptions?.showWalletUIs}))try{let a=await u(),b=new Uint8Array((0,M.b)(a,"base64"));n({signature:b})}catch(a){o(a)}else i({signMessage:{method:"solana_signMessage",data:t,confirmAndSign:u,onSuccess:a=>{n({signature:new Uint8Array((0,M.b)(a,"base64"))})},onFailure:a=>{o(a)},uiOptions:m?.uiOptions??{}},connectWallet:{recoveryMethod:p.recoveryMethod,connectingWalletAddress:p.address,entropyId:q,entropyIdVerifier:r,isUnifiedWallet:s,onCompleteNavigateTo:"SignRequestScreen",onFailure:a=>{o(new y.a("Failed to connect to wallet",a,y.b.UNKNOWN_CONNECT_WALLET_ERROR))}}}),e("EmbeddedWalletConnectingScreen")})}}function av(){let{isHeadlessSigning:a,openModal:b}=(0,y.u)(),{setModalData:c}=(0,z.a)(),{signMessage:d}=au(),{user:e}=(0,G.u)();return{signTransaction:async({transaction:f,options:g,chain:h="solana:mainnet",address:i})=>{async function j(a){let b,c,{signature:e}=await d({message:(0,M.a)(a),address:i,options:{...g,uiOptions:{...g?.uiOptions,showWalletUIs:!1}}});return{signedTransaction:(b=structuredClone((0,B.getTransactionDecoder)().decode(a)),(c=(0,C.address)(i))in b.signatures&&(b.signatures[c]=e),new Uint8Array((0,B.getTransactionEncoder)().encode(b)))}}return a({showWalletUIs:g?.uiOptions?.showWalletUIs})?j(f):new Promise(async(a,d)=>{let k=(0,z.h)(e,i);if("privy"!==k?.walletClientType)return void d(new y.a("Wallet is not a Privy wallet",void 0,y.b.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:l,entropyIdVerifier:m}=(0,H.g)(e,k),n=(0,z.d)(k);function o(a){return b=>{d(b instanceof y.a?b:new y.a("Failed to connect to wallet",b,a))}}let p={account:k,transaction:f,chain:h,signOnly:!0,uiOptions:g?.uiOptions||{},onConfirm:j,onSuccess:a,onFailure:o(y.b.TRANSACTION_FAILURE)};c({connectWallet:{recoveryMethod:k.recoveryMethod,connectingWalletAddress:k.address,entropyId:l,entropyIdVerifier:m,isUnifiedWallet:n,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:o(y.b.UNKNOWN_CONNECT_WALLET_ERROR)},standardSignAndSendTransaction:p}),b("EmbeddedWalletConnectingScreen")})}}}let aw=new class extends I.default{setImplementation(a){O(this,Q)[Q]=a}async signMessage(a){return O(this,Q)[Q].signMessage(a)}async signAndSendTransaction(a){return O(this,Q)[Q].signAndSendTransaction(a)}async signTransaction(a){return O(this,Q)[Q].signTransaction(a)}constructor(a){super(),Object.defineProperty(this,Q,{writable:!0,value:void 0}),O(this,Q)[Q]=a}}({signTransaction:(0,y.l)("signTransaction was not injected"),signAndSendTransaction:(0,y.l)("signAndSendTransaction was not injected"),signMessage:(0,y.l)("signMessage was not injected")}),ax=new class{get version(){return _(this,ad)[ad]}get name(){return _(this,ae)[ae]}get icon(){return _(this,af)[af]}get chains(){return N.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:_(this,an)[an]},"standard:disconnect":{version:"1.0.0",disconnect:_(this,ao)[ao]},"standard:events":{version:"1.0.0",on:_(this,aj)[aj]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:_(this,aq)[aq]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:_(this,ar)[ar]},"solana:signMessage":{version:"1.0.0",signMessage:_(this,ap)[ap]},"privy:":{privy:{signMessage:_(this,ag)[ag].signMessage,signTransaction:_(this,ag)[ag].signTransaction,signAndSendTransaction:_(this,ag)[ag].signAndSendTransaction}}}}get accounts(){return _(this,ai)[ai].slice()}get isPrivyWallet(){return _(this,ah)[ah]}constructor({name:a,icon:b,version:c,injection:d,wallets:e}){Object.defineProperty(this,ak,{value:as}),Object.defineProperty(this,al,{value:at}),Object.defineProperty(this,ac,{writable:!0,value:void 0}),Object.defineProperty(this,ad,{writable:!0,value:void 0}),Object.defineProperty(this,ae,{writable:!0,value:void 0}),Object.defineProperty(this,af,{writable:!0,value:void 0}),Object.defineProperty(this,ag,{writable:!0,value:void 0}),Object.defineProperty(this,ah,{writable:!0,value:void 0}),Object.defineProperty(this,ai,{writable:!0,value:void 0}),Object.defineProperty(this,aj,{writable:!0,value:void 0}),Object.defineProperty(this,am,{writable:!0,value:void 0}),Object.defineProperty(this,an,{writable:!0,value:void 0}),Object.defineProperty(this,ao,{writable:!0,value:void 0}),Object.defineProperty(this,ap,{writable:!0,value:void 0}),Object.defineProperty(this,aq,{writable:!0,value:void 0}),Object.defineProperty(this,ar,{writable:!0,value:void 0}),_(this,ac)[ac]={},_(this,aj)[aj]=(a,b)=>(_(this,ac)[ac][a]?.push(b)||(_(this,ac)[ac][a]=[b]),()=>_(this,al)[al](a,b)),_(this,am)[am]=a=>{null!=a&&(_(this,ai)[ai]=a.map(({address:a})=>new $({address:a,publicKey:J.base58.decode(a)}))),_(this,ak)[ak]("change",{accounts:this.accounts})},_(this,an)[an]=async()=>(_(this,ak)[ak]("change",{accounts:this.accounts}),{accounts:this.accounts}),_(this,ao)[ao]=async()=>{_(this,ak)[ak]("change",{accounts:this.accounts})},_(this,ap)[ap]=async(...a)=>{let b=[];for(let{account:c,...d}of a){let{signature:a}=await _(this,ag)[ag].signMessage({...d,address:c.address});b.push({signedMessage:d.message,signature:a})}return b},_(this,aq)[aq]=async(...a)=>{let b=[];for(let c of a){let{signature:a}=await _(this,ag)[ag].signAndSendTransaction({...c,transaction:c.transaction,address:c.account.address,chain:c.chain||"solana:mainnet",options:c.options});b.push({signature:a})}return b},_(this,ar)[ar]=async(...a)=>{let b=[];for(let{transaction:c,account:d,options:e,chain:f}of a){let{signedTransaction:a}=await _(this,ag)[ag].signTransaction({transaction:c,address:d.address,chain:f||"solana:mainnet",options:e});b.push({signedTransaction:a})}return b},_(this,ae)[ae]=a,_(this,af)[af]=b,_(this,ad)[ad]=c,_(this,ag)[ag]=d,_(this,ai)[ai]=[],_(this,ah)[ah]=!0,d.on("accountChanged",_(this,am)[am],this),_(this,am)[am](e)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:aw});var ay=a.i(916873),az=a.i(196110),aA=a.i(82669),aB=a.i(58265),aC=a.i(942001);a.i(63171),a.i(604361);var aD=a.i(409076);function aE(a){return"signTransactions"in a&&"function"==typeof a.signTransactions||"modifyAndSignTransactions"in a&&"function"==typeof a.modifyAndSignTransactions||"signAndSendTransactions"in a&&"function"==typeof a.signAndSendTransactions}function aF(a,b){Object.freeze(a);let c={...b,feePayer:a};return Object.freeze(c),c}a.i(745158);var aG=((b=aG||{})[b.Uninitialized=0]="Uninitialized",b[b.Initialized=1]="Initialized",b),aH=((c=aH||{})[c.Legacy=0]="Legacy",c[c.Current=1]="Current",c),aI=((d=aI||{})[d.Nonce=0]="Nonce",d),aJ=((e=aJ||{})[e.CreateAccount=0]="CreateAccount",e[e.Assign=1]="Assign",e[e.TransferSol=2]="TransferSol",e[e.CreateAccountWithSeed=3]="CreateAccountWithSeed",e[e.AdvanceNonceAccount=4]="AdvanceNonceAccount",e[e.WithdrawNonceAccount=5]="WithdrawNonceAccount",e[e.InitializeNonceAccount=6]="InitializeNonceAccount",e[e.AuthorizeNonceAccount=7]="AuthorizeNonceAccount",e[e.Allocate=8]="Allocate",e[e.AllocateWithSeed=9]="AllocateWithSeed",e[e.AssignWithSeed=10]="AssignWithSeed",e[e.TransferSolWithSeed=11]="TransferSolWithSeed",e[e.UpgradeNonceAccount=12]="UpgradeNonceAccount",e);function aK(a){return!!a&&"object"==typeof a&&"address"in a&&aE(a)}var aL=a.i(241168),aM=a.i(221872),aN=((f=aN||{})[f.Uninitialized=0]="Uninitialized",f[f.Initialized=1]="Initialized",f[f.Frozen=2]="Frozen",f),aO=((g=aO||{})[g.MintTokens=0]="MintTokens",g[g.FreezeAccount=1]="FreezeAccount",g[g.AccountOwner=2]="AccountOwner",g[g.CloseAccount=3]="CloseAccount",g),aP=((h=aP||{})[h.CreateAssociatedToken=0]="CreateAssociatedToken",h[h.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",h[h.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",h),aQ=((i=aQ||{})[i.Mint=0]="Mint",i[i.Token=1]="Token",i[i.Multisig=2]="Multisig",i),aR=((j=aR||{})[j.InitializeMint=0]="InitializeMint",j[j.InitializeAccount=1]="InitializeAccount",j[j.InitializeMultisig=2]="InitializeMultisig",j[j.Transfer=3]="Transfer",j[j.Approve=4]="Approve",j[j.Revoke=5]="Revoke",j[j.SetAuthority=6]="SetAuthority",j[j.MintTo=7]="MintTo",j[j.Burn=8]="Burn",j[j.CloseAccount=9]="CloseAccount",j[j.FreezeAccount=10]="FreezeAccount",j[j.ThawAccount=11]="ThawAccount",j[j.TransferChecked=12]="TransferChecked",j[j.ApproveChecked=13]="ApproveChecked",j[j.MintToChecked=14]="MintToChecked",j[j.BurnChecked=15]="BurnChecked",j[j.InitializeAccount2=16]="InitializeAccount2",j[j.SyncNative=17]="SyncNative",j[j.InitializeAccount3=18]="InitializeAccount3",j[j.InitializeMultisig2=19]="InitializeMultisig2",j[j.InitializeMint2=20]="InitializeMint2",j[j.GetAccountDataSize=21]="GetAccountDataSize",j[j.InitializeImmutableOwner=22]="InitializeImmutableOwner",j[j.AmountToUiAmount=23]="AmountToUiAmount",j[j.UiAmountToAmount=24]="UiAmountToAmount",j);function aS(a,b){return b=>{if(!b.value)return Object.freeze({address:a,role:aD.AccountRole.READONLY});let c=b.isWritable?aD.AccountRole.WRITABLE:aD.AccountRole.READONLY;return Object.freeze({address:function(a){if(!a)throw Error("Expected a Address.");return"object"==typeof a&&"address"in a?a.address:Array.isArray(a)?a[0]:a}(b.value),role:aT(b.value)?(0,aD.upgradeRoleToSigner)(c):c,...aT(b.value)?{signer:b.value}:{}})}}function aT(a){return!!a&&"object"==typeof a&&"address"in a&&aE(a)}async function aU(a,b={}){let{programAddress:c="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=b;return await (0,C.getProgramDerivedAddress)({programAddress:c,seeds:[(0,C.getAddressEncoder)().encode(a.owner),(0,C.getAddressEncoder)().encode(a.tokenProgram),(0,C.getAddressEncoder)().encode(a.mint)]})}var aV=a.i(908164),aW=a.i(246688),aX=a.i(446363);function aY({rows:a}){return(0,k.jsx)(w.a,{children:a.filter(a=>!!a).map((a,b)=>null!=a.value||a.isLoading?(0,k.jsxs)(w.R,{children:[(0,k.jsx)(v.L,{children:a.label}),(0,k.jsx)(v.V,{$isLoading:a.isLoading,children:a.value})]},b):null)})}function aZ(a){return BigInt(Math.floor(1e9*parseFloat(a)))}function a$(a){return+a_.format(parseFloat(a.toString())/1e9)}a.i(877069),a.i(202789);let a_=Intl.NumberFormat(void 0,{maximumFractionDigits:8});async function a0({tx:a,solanaClient:b,amount:c,asset:d,tokenPrice:e}){if(!a)return null;if("SOL"===d&&e){let d=aZ(c),f=(0,aV.g)(d,e),g=await (0,M.f)({solanaClient:b,tx:a});return{amountInUsd:f,feeInUsd:e?(0,aV.g)(g,e):void 0,totalInUsd:(0,aV.g)(d+g,e)}}if("USDC"===d&&e){let d,f="$"+c,g=await (0,M.f)({solanaClient:b,tx:a}),h=(d=parseFloat(g.toString())/aV.L*e)<.01?0:d;return{amountInUsd:f,feeInUsd:(0,aV.g)(g,e),totalInUsd:"$"+(parseFloat(c)+h).toFixed(2)}}if("SOL"===d){let d=aZ(c),e=await (0,M.f)({solanaClient:b,tx:a});return{amountInSol:c+" SOL",feeInSol:a$(e)+" SOL",totalInSol:a$(d+e)+" SOL"}}return{amountInUsdc:c+" USDC",feeInSol:a$(await (0,M.f)({solanaClient:b,tx:a}))+" SOL"}}let a1={component:function(){let a=(0,x.u)(),{closePrivyModal:b,createAnalyticsEvent:c}=(0,y.u)(),{data:d,setModalData:e,navigate:f}=(0,z.a)(),{wallets:g}=function(){let{ready:a,wallets:b}=function(){let{client:a}=(0,y.u)(),{ready:b,wallet:c}=function(){let{ready:a}=(0,H.u)(),{user:b}=(0,G.u)(),{signMessage:c}=au(),{signTransaction:d}=av(),{signAndSendTransaction:e}=function(){let a=(0,x.u)(),{isHeadlessSigning:b,openModal:c}=(0,y.u)(),{setModalData:d}=(0,z.a)(),{signTransaction:e}=av(),f=(0,M.u)(),{user:g}=(0,G.u)(),{signWithUserSigner:h}=(0,K.u)();return{signAndSendTransaction:async({transaction:i,address:j,chain:k="solana:mainnet",options:l})=>{let m=(0,z.h)(g,j);if("privy"!==m?.walletClientType)throw new y.a("Wallet is not a Privy wallet",void 0,y.b.EMBEDDED_WALLET_NOT_FOUND);let n=(0,z.d)(m);async function o(b){if(l?.sponsor)return await (async b=>{if(!n)throw new y.a("Sponsoring transactions is only supported for wallets on the TEE stack",y.b.INVALID_DATA);let c=new D.default({appId:a.id,clientId:a.appClientId,storage:L.u}),d=await (0,E.rpc)(c,h,{chain_type:"solana",method:"signAndSendTransaction",sponsor:!0,params:{transaction:(0,M.b)(b).toString("base64"),encoding:"base64"},caip2:`solana:${(await f(k).rpc.getGenesisHash().send()).substring(0,32)}`,wallet_id:m.id});if(d.data&&"hash"in d.data)return{signature:J.base58.decode(d.data.hash)};throw Error("Failed to sign and send transaction")})(b);let{signedTransaction:c}=await e({transaction:b,address:j,chain:k,options:{...l,uiOptions:{...l?.uiOptions,showWalletUIs:!1}}}),{signature:d}=await f(k).sendAndConfirmTransaction(c);return{signature:d}}return b({showWalletUIs:l?.uiOptions?.showWalletUIs})?o(i):new Promise(async(b,e)=>{let f,h,{entropyId:p,entropyIdVerifier:q}=(0,H.g)(g,m);function r(a){return b=>{e(b instanceof y.a?b:new y.a("Failed to connect to wallet",b,a))}}let s={account:m,transaction:i,chain:k,signOnly:!1,uiOptions:l?.uiOptions||{},onConfirm:o,onSuccess:b,onFailure:r(y.b.TRANSACTION_FAILURE),isSponsored:!!l?.sponsor},t={recoveryMethod:m.recoveryMethod,connectingWalletAddress:m.address,entropyId:p,entropyIdVerifier:q,isUnifiedWallet:n,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:r(y.b.UNKNOWN_CONNECT_WALLET_ERROR)};a.fundingConfig&&(f=(0,L.g)({address:j,appConfig:a,methodScreen:"FundingMethodSelectionScreen",fundWalletConfig:{...l,asset:"native-currency",chain:k},externalSolanaFundingScreen:"FundSolWalletWithExternalSolanaWallet"}),h={amount:a.fundingConfig.defaultRecommendedAmount,asset:"SOL",chain:k,destinationAddress:j,afterSuccessScreen:"StandardSignAndSendTransactionScreen",sourceWalletData:void 0}),d({connectWallet:t,standardSignAndSendTransaction:s,funding:f,solanaFundingData:h}),c("EmbeddedWalletConnectingScreen")})}}}(),f=(0,m.useMemo)(()=>{let a=[...(0,z.o)(b).sort((a,b)=>(a.walletIndex??0)-(b.walletIndex??0))],c=(0,z.j)(b);return c.length?[...a,...c]:a},[b]),g=(0,m.useMemo)(()=>({signMessage:async({message:a,address:b,options:d})=>await c({message:a,address:b,options:d}),signTransaction:async({transaction:a,address:b,chain:c,options:e})=>await d({transaction:a,address:b,chain:c,options:e}),async signAndSendTransaction({transaction:a,address:b,chain:c,options:d}){let{signature:f}=await e({transaction:a,address:b,chain:c,options:d});return{signature:f}}}),[c,d,e]);return(0,m.useEffect)(()=>{aw?.setImplementation(g)},[g]),(0,m.useEffect)(()=>{var b;!a||(b=ax.accounts).length===f.length&&b.every((a,b)=>a.address===f[b]?.address)||aw?.emit("accountChanged",f)},[a,f]),{ready:a,wallet:ax}}(),[d,e]=(0,m.useState)([]),[f,g]=(0,m.useState)([]);return(0,m.useEffect)(()=>{let a=[c,...d.filter(a=>"solana"===a.chainType&&!!a.wallet.features).map(a=>a.wallet)];g(a);let b=d.flatMap(b=>{let c=()=>g([...a]);return b.on("walletsUpdated",c),{connector:b,off:c}}),e=a.map(b=>b.features["standard:events"]?.on("change",()=>{g([...a])}));return()=>{e.forEach(a=>a?.()),b.forEach(({connector:a,off:b})=>a.off("walletsUpdated",b))}},[d]),(0,m.useEffect)(()=>{e(a.connectors?.walletConnectors.filter(a=>"solana"===a.chainType)??[]);let b=()=>{e(a.connectors?.walletConnectors.filter(a=>"solana"===a.chainType)??[])};return a.connectors?.on("connectorInitialized",b),()=>{a.connectors?.off("connectorInitialized",b)}},[b,a.connectors]),{ready:b,wallets:f}}();return{ready:a,wallets:(0,m.useMemo)(()=>b.flatMap(a=>a.accounts.map(b=>new F.ConnectedStandardSolanaWallet({wallet:a,account:b}))),[b])}}(),[h,i]=(0,m.useState)("preparing"),[j,v]=(0,m.useState)(),[w,C]=(0,m.useState)(),[I,N]=(0,m.useState)();if(!d?.solanaFundingData)throw Error("Funding config is missing");if(!d.solanaFundingData.sourceWalletData)throw Error("Funding config is missing source wallet data");let{amount:O,asset:P,chain:Q,sourceWalletData:R,destinationAddress:S,afterSuccessScreen:T}=d.solanaFundingData,U=g.find(a=>a.address===R.address&&(0,L.t)(R.walletClientType)===(0,L.t)(a.standardWallet.name)),V=(0,M.u)()(Q),{tokenPrice:W,isTokenPriceLoading:X}=(0,ay.u)("solana");return(0,m.useEffect)(()=>{if("preparing"!==h||X||!U)return;let a="SOL"===P?aZ(O):BigInt(Math.floor(1e6*parseFloat(O)));C({amount:("SOL"===P&&W?(0,aV.g)(a,W):O)??O}),("SOL"===P?async function({solanaClient:a,source:b,destination:c,amountInLamports:d}){let{value:e}=await a.rpc.getLatestBlockhash().send(),f={address:b},g=(0,aL.pipe)((0,aM.createTransactionMessage)({version:0}),a=>aF(f,a),a=>(0,aM.setTransactionMessageLifetimeUsingBlockhash)(e,a),a=>{var b;let e,g,h,i;return(0,aM.appendTransactionMessageInstruction)((e=(void 0)??"11111111111111111111111111111111",g={source:{value:(b={amount:d,source:f,destination:c}).source??null,isWritable:!0},destination:{value:b.destination??null,isWritable:!0}},h={...b},{accounts:[(i=a=>{if(!a.value)return;let b=a.isWritable?aD.AccountRole.WRITABLE:aD.AccountRole.READONLY;return Object.freeze({address:function(a){if(!a)throw Error("Expected a Address.");return"object"==typeof a&&"address"in a?a.address:Array.isArray(a)?a[0]:a}(a.value),role:aK(a.value)?(0,aD.upgradeRoleToSigner)(b):b,...aK(a.value)?{signer:a.value}:{}})})(g.source),i(g.destination)],programAddress:e,data:(0,aC.transformEncoder)((0,aA.getStructEncoder)([["discriminator",(0,aB.getU32Encoder)()],["amount",(0,aB.getU64Encoder)()]]),a=>({...a,discriminator:2})).encode(h)}),a)},a=>(0,B.compileTransaction)(a));return new Uint8Array((0,B.getTransactionEncoder)().encode(g))}({solanaClient:V,source:U.address,destination:S,amountInLamports:a}):async function({solanaClient:a,source:b,destination:c,amountInBaseUnits:d}){var e;let f,g,h,i=(0,aW.g)(a.chain),{value:j}=await a.rpc.getLatestBlockhash().send(),k={address:b},[l]=await aU({mint:i,owner:b,tokenProgram:aV.T}),[m]=await aU({mint:i,owner:c,tokenProgram:aV.T}),[n,o]=await Promise.all([a.rpc.getAccountInfo(l,{commitment:"confirmed",encoding:"jsonParsed"}).send().catch(()=>null),a.rpc.getAccountInfo(m,{commitment:"confirmed",encoding:"jsonParsed"}).send().catch(()=>null)]);if(!n?.value)throw Error(`Source token account does not exist for address: ${b}`);let p=(f=(void 0)??"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",(g={payer:{value:(e={payer:k,ata:m,owner:c,mint:i}).payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}}).tokenProgram.value||(g.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),g.systemProgram.value||(g.systemProgram.value="11111111111111111111111111111111"),{accounts:[(h=aS(f))(g.payer),h(g.ata),h(g.owner),h(g.mint),h(g.systemProgram),h(g.tokenProgram)],programAddress:f,data:(0,aC.transformEncoder)((0,aA.getStructEncoder)([["discriminator",(0,aB.getU8Encoder)()]]),a=>({...a,discriminator:1})).encode({})}),q=(0,aL.pipe)((0,aM.createTransactionMessage)({version:0}),a=>aF(k,a),a=>(0,aM.setTransactionMessageLifetimeUsingBlockhash)(j,a),a=>o?.value?a:(0,aM.appendTransactionMessageInstruction)(p,a),a=>{var b;let c,e,f,g,h;return(0,aM.appendTransactionMessageInstruction)((c=(void 0)??"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",e={source:{value:(b={source:l,destination:m,authority:k,amount:d}).source??null,isWritable:!0},destination:{value:b.destination??null,isWritable:!0},authority:{value:b.authority??null,isWritable:!1}},g=((f={...b}).multiSigners??[]).map(a=>({address:a.address,role:aD.AccountRole.READONLY_SIGNER,signer:a})),{accounts:[(h=aS(c))(e.source),h(e.destination),h(e.authority),...g],programAddress:c,data:(0,aC.transformEncoder)((0,aA.getStructEncoder)([["discriminator",(0,aB.getU8Encoder)()],["amount",(0,aB.getU64Encoder)()]]),a=>({...a,discriminator:3})).encode(f)}),a)},a=>(0,B.compileTransaction)(a));return new Uint8Array((0,B.getTransactionEncoder)().encode(q))}({solanaClient:V,source:U.address,destination:S,amountInBaseUnits:a})).then(v).catch(a=>{i("error"),N(a)})},[h,O,P,Q,U,S,X,W]),(0,m.useEffect)(()=>{"preparing"===h&&j&&a0({tx:j,solanaClient:V,amount:O,asset:P,tokenPrice:W}).then(a=>{i("loaded"),C({amount:a?.amountInUsd??a?.amountInUsdc??a?.amountInSol??O,fee:a?.feeInUsd??a?.feeInSol,total:a?.totalInUsd??a?.totalInSol})}).catch(a=>{i("error"),N(a)})},[j,O,P,h,W]),(0,m.useEffect)(()=>{"error"===h&&I&&(e({errorModalData:{error:I,previousScreen:"FundSolWalletWithExternalSolanaWallet"},solanaFundingData:d.solanaFundingData}),f("ErrorScreen",!1))},[h,f]),(0,m.useEffect)(()=>{if("success"!==h)return;let a=setTimeout(T?()=>f(T):b,x.t);return()=>clearTimeout(a)},[h]),(0,k.jsxs)(k.Fragment,"success"===h?{children:[(0,k.jsx)(s.t,{}),(0,k.jsx)(p.b,{}),(0,k.jsxs)(p.c,{children:[(0,k.jsx)(l.default,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,k.jsx)(r.C,{title:"Success!",description:`Youâ€™ve successfully added ${O} ${P} to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,k.jsx)(p.R,{}),(0,k.jsx)(q.B,{})]}:"preparing"===h||"loaded"===h||"sending"===h?{children:[(0,k.jsx)(s.t,{}),(0,k.jsx)(p.e,{style:{marginTop:"16px"},children:(0,k.jsx)(t.I,{icon:U?.standardWallet.icon,name:U?.standardWallet.name})}),(0,k.jsx)(r.C,{style:{marginTop:"8px",marginBottom:"12px"},title:"sending"===h&&U?`Confirming with ${U.standardWallet.name}`:"Confirm transaction"}),(0,k.jsx)(aY,{rows:[{label:"Source",value:(0,n.formatWalletAddress)(R.address)},{label:"Destination",value:(0,n.formatWalletAddress)(S)},{label:"Network",value:(0,aX.g)(Q)},{label:"Amount",value:w?.amount,isLoading:"preparing"===h},{label:"Estimated fee",value:w?.fee,isLoading:"preparing"===h},{label:"Total",value:w?.total,isLoading:"preparing"===h}]}),(0,k.jsx)(o.P,{style:{marginTop:"1rem"},loading:"preparing"===h||"sending"===h,onClick:function(){"loaded"===h&&j&&U&&(i("sending"),(async function({transaction:a,chain:b,sourceWallet:c,solanaClient:d}){var e;let{hasFunds:f}=await (0,M.s)({solanaClient:d,tx:a});if(!f)throw new y.a(`Wallet ${(0,n.formatWalletAddress)(c.address)} does not have enough funds.`,void 0,y.b.INSUFFICIENT_BALANCE);let g=(e=(await c.signAndSendTransaction({transaction:a,chain:b}).catch(a=>{throw new y.a("Transaction was rejected by the user",a,y.b.TRANSACTION_FAILURE)})).signature,(0,A.getBase58Decoder)().decode(e));return await (0,M.w)({rpcSubscriptions:d.rpcSubscriptions,signature:g,timeout:2e4}),g})({solanaClient:V,transaction:j,chain:Q,sourceWallet:U}).then(a=>{i("success"),c({eventName:az.O,payload:{provider:"external",status:"success",txHash:a,address:U.address,value:O,chainType:"solana",clusterName:Q,token:P,destinationAddress:S,destinationValue:O,destinationChainType:"solana",destinationClusterName:Q,destinationToken:P}})}).catch(a=>{i("error"),N(a)}))},children:"Confirm"}),(0,k.jsx)(q.B,{})]}:{children:[(0,k.jsx)(s.t,{}),(0,k.jsx)(u.N,{}),(0,k.jsx)("div",{style:{marginTop:"1rem"}}),(0,k.jsx)(q.B,{})]})}};a.s(["FundSolWalletWithExternalSolanaWallet",()=>a1,"default",()=>a1],6180)}];

//# sourceMappingURL=776cb_react-auth_dist_esm_FundSolWalletWithExternalSolanaWallet-BIk-6GIl_mjs_fe94f153._.js.map